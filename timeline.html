<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥ºÌïôÍ∏∞Ïà† Î∞úÏ†ÑÏÇ¨ ÌÉÄÏûÑÎùºÏù∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg-primary: #f5f3f0;
            --bg-secondary: #ffffff;
            --text-primary: #312927;
            --text-secondary: #795942;
            --border-color: #d4c8b8;
            --accent-color: #123300;
            --accent-light: #2d5a1a;
        }
        
        [data-theme="dark"] {
            --bg-primary: #312927;
            --bg-secondary: #3d332f;
            --text-primary: #f5f3f0;
            --text-secondary: #c4b5a0;
            --border-color: #5a4d47;
            --accent-color: #4a7c59;
            --accent-light: #6b9b7a;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .timeline-line {
            background: linear-gradient(to bottom, var(--accent-light), var(--accent-color));
        }
        .timeline-dot {
            box-shadow: 0 0 0 4px var(--bg-secondary), 0 0 0 6px var(--accent-light);
        }
        .card-hover:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 25px 50px rgba(99, 102, 241, 0.25);
        }
        .tech-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .tech-card:hover {
            border-color: var(--accent-color);
        }
        .loading-spinner {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        /* Ïó∞ÎèÑÎ≥Ñ Íµ¨Î∂ÑÏÑ† */
        .decade-marker {
            position: relative;
            margin: 2rem 0;
        }
        .decade-marker::before {
            content: '';
            position: absolute;
            left: -2rem;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, var(--accent-color), transparent);
            opacity: 0.3;
        }
        .decade-label {
            background: var(--bg-primary);
            color: var(--accent-color);
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            border: 2px solid var(--accent-color);
            display: inline-block;
        }
        
        /* Ïä§Ìã∞ÌÇ§ Ìó§Îçî */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 50;
            background: var(--bg-primary);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }
        
        /* Îã§ÌÅ¨Î™®Îìú ÌÜ†Í∏Ä */
        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .theme-toggle:hover {
            background: var(--accent-color);
            color: white;
        }
        
        /* Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Ïä§Î¨¥Ïä§ Ïä§ÌÅ¨Î°§ */
        html {
            scroll-behavior: smooth;
        }
        
        /* Ïó∞ÎèÑ Ï†êÌîÑ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .year-nav {
            position: fixed;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.5rem;
            max-height: 60vh;
            overflow-y: auto;
            z-index: 40;
        }
        
        .year-nav-item {
            display: block;
            padding: 0.25rem 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.75rem;
            border-radius: 0.25rem;
            transition: all 0.2s ease;
        }
        
        .year-nav-item:hover {
            background: var(--accent-color);
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app" class="mx-auto max-w-5xl p-6 space-y-6">
        <!-- Î°úÎî© ÏÉÅÌÉú -->
        <div id="loading" class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="loading-spinner mx-auto mb-4"></div>
                <div class="text-lg text-gray-600">Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ï§ë...</div>
            </div>
        </div>

        <!-- ÏóêÎü¨ ÏÉÅÌÉú -->
        <div id="error" class="hidden flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="text-red-600 text-lg mb-2">‚ö†Ô∏è Ïò§Î•ò Î∞úÏÉù</div>
                <div id="error-message" class="text-gray-600"></div>
            </div>
        </div>

        <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
        <div id="content" class="hidden">
            <!-- Ïä§Ìã∞ÌÇ§ Ìó§Îçî -->
            <div class="sticky-header py-4 mb-8">
                <div class="flex items-center justify-between">
                    <div class="text-center flex-1">
                        <h1 class="text-3xl font-bold">Í≥ºÌïôÍ∏∞Ïà† Î∞úÏ†ÑÏÇ¨ ÌÉÄÏûÑÎùºÏù∏</h1>
                        <p id="stats" class="text-sm opacity-75 mt-1"></p>
                    </div>
                    <button id="themeToggle" class="theme-toggle">
                        <span id="themeIcon">üåô</span>
                    </button>
                </div>
            </div>

            <!-- ÌïÑÌÑ∞ Ïª®Ìä∏Î°§ -->
            <div class="grid grid-cols-1 gap-3 sm:grid-cols-4 mb-6">
                <input
                    id="searchInput"
                    type="text"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="Í≤ÄÏÉâ (Ï†úÎ™©, ÏöîÏïΩ, Î∂ÑÏïº, Í∏∞Í¥Ä)"
                />
                <input
                    id="minYearInput"
                    type="number"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="ÏµúÏÜå Ïó∞ÎèÑ (Ïòà: -500, 1800)"
                />
                <input
                    id="maxYearInput"
                    type="number"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="ÏµúÎåÄ Ïó∞ÎèÑ (Ïòà: 2025)"
                />
                <select
                    id="fieldSelect"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                >
                    <option value="">Ï†ÑÏ≤¥ Î∂ÑÏïº</option>
                </select>
            </div>

            <!-- Í≤∞Í≥º Ïπ¥Ïö¥Ìä∏ -->
            <div id="resultCount" class="text-center text-gray-600 mb-6"></div>

            <!-- Ïó∞ÎèÑ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
            <div id="yearNav" class="year-nav hidden"></div>
            
            <!-- ÌÉÄÏûÑÎùºÏù∏ -->
            <div class="relative ml-24">
                <!-- ÏÑ∏Î°úÏÑ† -->
                <div class="absolute left-8 top-0 h-full w-0.5 timeline-line" aria-hidden="true"></div>
                
                <ol id="timeline" class="space-y-6"></ol>
            </div>

            <!-- Ìë∏ÌÑ∞ -->
            <div class="text-center text-sm text-gray-500 pt-8">
                Îç∞Ïù¥ÌÑ∞ Ï∂úÏ≤ò: 
                <a href="https://www.historicaltechtree.com/" class="text-indigo-600 hover:underline" target="_blank" rel="noreferrer">
                    Historical Tech Tree
                </a> ‚Ä¢ 
                <span id="generatedDate"></span>
            </div>
        </div>
    </div>

    <script>
        // Ï†ÑÏó≠ Î≥ÄÏàò
        let timelineData = null;
        let filteredItems = [];

        // DOM ÏöîÏÜåÎì§
        const elements = {
            loading: document.getElementById('loading'),
            error: document.getElementById('error'),
            errorMessage: document.getElementById('error-message'),
            content: document.getElementById('content'),
            stats: document.getElementById('stats'),
            searchInput: document.getElementById('searchInput'),
            minYearInput: document.getElementById('minYearInput'),
            maxYearInput: document.getElementById('maxYearInput'),
            fieldSelect: document.getElementById('fieldSelect'),
            resultCount: document.getElementById('resultCount'),
            timeline: document.getElementById('timeline'),
            generatedDate: document.getElementById('generatedDate'),
            themeToggle: document.getElementById('themeToggle'),
            themeIcon: document.getElementById('themeIcon'),
            yearNav: document.getElementById('yearNav')
        };
        
        // Îã§ÌÅ¨Î™®Îìú Í¥ÄÎ¶¨
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            elements.themeIcon.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }
        
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            elements.themeIcon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // Î∂ÑÏïºÎ™Ö ÌïúÍµ≠Ïñ¥ Î≤àÏó≠ Îß§Ìïë
        const fieldTranslations = {
            'Agriculture': 'ÎÜçÏóÖ(Agriculture)',
            'Astronomy': 'Ï≤úÎ¨∏Ìïô(Astronomy)',
            'Biology': 'ÏÉùÎ¨ºÌïô(Biology)',
            'Chemistry': 'ÌôîÌïô(Chemistry)',
            'Communication': 'ÌÜµÏã†(Communication)',
            'Computing': 'Ïª¥Ìì®ÌåÖ(Computing)',
            'Construction': 'Í±¥ÏÑ§(Construction)',
            'Diving': 'Ïû†Ïàò(Diving)',
            'Electricity': 'Ï†ÑÍ∏∞(Electricity)',
            'Electronics': 'Ï†ÑÏûêÍ≥µÌïô(Electronics)',
            'Energy': 'ÏóêÎÑàÏßÄ(Energy)',
            'Finance': 'Í∏àÏúµ(Finance)',
            'Flying': 'Ìï≠Í≥µ(Flying)',
            'Food': 'ÏãùÌíà(Food)',
            'Geography': 'ÏßÄÎ¶¨Ìïô(Geography)',
            'Hydraulics': 'ÏàòÎ†•Ìïô(Hydraulics)',
            'Lighting': 'Ï°∞Î™Ö(Lighting)',
            'Manufacturing': 'Ï†úÏ°∞ÏóÖ(Manufacturing)',
            'Mathematics': 'ÏàòÌïô(Mathematics)',
            'Measurement': 'Ï∏°Ï†ï(Measurement)',
            'Medicine': 'ÏùòÌïô(Medicine)',
            'Metallurgy': 'Í∏àÏÜçÌïô(Metallurgy)',
            'Meteorology': 'Í∏∞ÏÉÅÌïô(Meteorology)',
            'Mining': 'Í¥ëÏóÖ(Mining)',
            'Misc': 'Í∏∞ÌÉÄ(Misc)',
            'Music': 'ÏùåÏïÖ(Music)',
            'Optics': 'Í¥ëÌïô(Optics)',
            'Physics': 'Î¨ºÎ¶¨Ìïô(Physics)',
            'Recreation': 'Ïò§ÎùΩ(Recreation)',
            'Safety': 'ÏïàÏ†Ñ(Safety)',
            'Sailing': 'Ìï≠Ìï¥(Sailing)',
            'Sanitation': 'ÏúÑÏÉù(Sanitation)',
            'Security': 'Î≥¥Ïïà(Security)',
            'Space': 'Ïö∞Ï£º(Space)',
            'Textiles': 'ÏÑ¨Ïú†(Textiles)',
            'Timekeeping': 'ÏãúÍ∞ÑÏ∏°Ï†ï(Timekeeping)',
            'Transportation': 'ÍµêÌÜµ(Transportation)',
            'Visual media': 'ÏãúÍ∞ÅÎß§Ï≤¥(Visual media)',
            'Weaponry': 'Î¨¥Í∏∞(Weaponry)'
        };

        // Í∏∞Ïà†Î≥Ñ Ïù¥Î™®ÏßÄ Îß§Ìïë
        function getTechEmoji(title, fields) {
            const title_lower = title.toLowerCase();
            
            // Í∏∞Ïà†Î™Ö Í∏∞Î∞ò Ïù¥Î™®ÏßÄ
            if (title_lower.includes('ai') || title_lower.includes('artificial intelligence')) return 'ü§ñ';
            if (title_lower.includes('quantum')) return '‚öõÔ∏è';
            if (title_lower.includes('neural') || title_lower.includes('deep learning') || title_lower.includes('machine learning')) return 'üß†';
            if (title_lower.includes('robot')) return 'ü§ñ';
            if (title_lower.includes('drone') || title_lower.includes('uav')) return 'üöÅ';
            if (title_lower.includes('satellite')) return 'üõ∞Ô∏è';
            if (title_lower.includes('rocket') || title_lower.includes('space')) return 'üöÄ';
            if (title_lower.includes('laser')) return 'üî¨';
            if (title_lower.includes('computer') || title_lower.includes('cpu') || title_lower.includes('processor')) return 'üíª';
            if (title_lower.includes('internet') || title_lower.includes('web') || title_lower.includes('network')) return 'üåê';
            if (title_lower.includes('smartphone') || title_lower.includes('mobile')) return 'üì±';
            if (title_lower.includes('electric') && title_lower.includes('car')) return 'üöó';
            if (title_lower.includes('vaccine') || title_lower.includes('mrna')) return 'üíâ';
            if (title_lower.includes('gene') || title_lower.includes('crispr') || title_lower.includes('dna')) return 'üß¨';
            if (title_lower.includes('solar')) return '‚òÄÔ∏è';
            if (title_lower.includes('wind') && title_lower.includes('turbine')) return 'üí®';
            if (title_lower.includes('3d print')) return 'üñ®Ô∏è';
            if (title_lower.includes('blockchain') || title_lower.includes('crypto')) return '‚õìÔ∏è';
            if (title_lower.includes('vr') || title_lower.includes('virtual reality')) return 'ü•Ω';
            if (title_lower.includes('ar') || title_lower.includes('augmented reality')) return 'üëì';
            if (title_lower.includes('telescope')) return 'üî≠';
            if (title_lower.includes('microscope')) return 'üî¨';
            if (title_lower.includes('x-ray') || title_lower.includes('mri') || title_lower.includes('ct scan')) return 'üè•';
            if (title_lower.includes('steam') && title_lower.includes('engine')) return 'üöÇ';
            if (title_lower.includes('airplane') || title_lower.includes('aircraft')) return '‚úàÔ∏è';
            if (title_lower.includes('submarine')) return 'üö¢';
            if (title_lower.includes('wheel')) return '‚öôÔ∏è';
            if (title_lower.includes('fire') || title_lower.includes('flame')) return 'üî•';
            if (title_lower.includes('lens') || title_lower.includes('optic')) return 'üîç';
            if (title_lower.includes('battery') || title_lower.includes('electric')) return 'üîã';
            if (title_lower.includes('radio') || title_lower.includes('wireless')) return 'üìª';
            if (title_lower.includes('television') || title_lower.includes('tv')) return 'üì∫';
            if (title_lower.includes('camera') || title_lower.includes('photo')) return 'üì∑';
            if (title_lower.includes('printing') || title_lower.includes('press')) return 'üì∞';
            if (title_lower.includes('clock') || title_lower.includes('time')) return '‚è∞';
            if (title_lower.includes('compass')) return 'üß≠';
            if (title_lower.includes('map')) return 'üó∫Ô∏è';
            if (title_lower.includes('paper')) return 'üìÑ';
            if (title_lower.includes('writing') || title_lower.includes('alphabet')) return '‚úçÔ∏è';
            if (title_lower.includes('agriculture') || title_lower.includes('farming')) return 'üåæ';
            if (title_lower.includes('medicine') || title_lower.includes('drug')) return 'üíä';
            if (title_lower.includes('surgery') || title_lower.includes('surgical')) return 'üè•';
            if (title_lower.includes('metal') || title_lower.includes('iron') || title_lower.includes('steel')) return '‚öíÔ∏è';
            if (title_lower.includes('glass')) return 'ü™ü';
            if (title_lower.includes('concrete') || title_lower.includes('cement')) return 'üèóÔ∏è';
            if (title_lower.includes('bridge')) return 'üåâ';
            if (title_lower.includes('dam')) return 'üèîÔ∏è';
            if (title_lower.includes('canal')) return 'üö¢';
            if (title_lower.includes('road') || title_lower.includes('highway')) return 'üõ£Ô∏è';
            if (title_lower.includes('train') || title_lower.includes('railway')) return 'üöÜ';
            if (title_lower.includes('ship') || title_lower.includes('boat')) return '‚õµ';
            if (title_lower.includes('weapon') || title_lower.includes('gun') || title_lower.includes('sword')) return '‚öîÔ∏è';
            if (title_lower.includes('bomb') || title_lower.includes('explosive')) return 'üí£';
            if (title_lower.includes('music') || title_lower.includes('instrument')) return 'üéµ';
            if (title_lower.includes('textile') || title_lower.includes('fabric') || title_lower.includes('cloth')) return 'üßµ';
            if (title_lower.includes('food') || title_lower.includes('cooking')) return 'üç≥';
            if (title_lower.includes('refrigerat')) return '‚ùÑÔ∏è';
            if (title_lower.includes('light') || title_lower.includes('lamp') || title_lower.includes('bulb')) return 'üí°';
            if (title_lower.includes('candle')) return 'üïØÔ∏è';
            
            // Î∂ÑÏïº Í∏∞Î∞ò Ïù¥Î™®ÏßÄ
            if (fields && fields.length > 0) {
                const field = fields[0].toLowerCase();
                if (field.includes('computing')) return 'üíª';
                if (field.includes('medicine')) return '‚öïÔ∏è';
                if (field.includes('transportation')) return 'üöó';
                if (field.includes('communication')) return 'üì°';
                if (field.includes('energy')) return '‚ö°';
                if (field.includes('space')) return 'üöÄ';
                if (field.includes('biology')) return 'üß¨';
                if (field.includes('chemistry')) return '‚öóÔ∏è';
                if (field.includes('physics')) return '‚öõÔ∏è';
                if (field.includes('mathematics')) return 'üìê';
                if (field.includes('astronomy')) return 'üåü';
                if (field.includes('electronics')) return 'üîå';
                if (field.includes('optics')) return 'üîç';
                if (field.includes('metallurgy')) return '‚öíÔ∏è';
                if (field.includes('agriculture')) return 'üåæ';
                if (field.includes('construction')) return 'üèóÔ∏è';
                if (field.includes('weaponry')) return '‚öîÔ∏è';
                if (field.includes('music')) return 'üéµ';
                if (field.includes('textiles')) return 'üßµ';
                if (field.includes('food')) return 'üç≥';
                if (field.includes('safety')) return 'üõ°Ô∏è';
                if (field.includes('security')) return 'üîí';
                if (field.includes('recreation')) return 'üéÆ';
                if (field.includes('visual media')) return 'üé¨';
                if (field.includes('timekeeping')) return '‚è∞';
                if (field.includes('measurement')) return 'üìè';
                if (field.includes('lighting')) return 'üí°';
                if (field.includes('hydraulics')) return 'üíß';
                if (field.includes('diving')) return 'ü§ø';
                if (field.includes('sailing')) return '‚õµ';
                if (field.includes('flying')) return '‚úàÔ∏è';
                if (field.includes('mining')) return '‚õèÔ∏è';
                if (field.includes('manufacturing')) return 'üè≠';
                if (field.includes('sanitation')) return 'üßΩ';
                if (field.includes('meteorology')) return 'üå§Ô∏è';
                if (field.includes('geography')) return 'üó∫Ô∏è';
                if (field.includes('finance')) return 'üí∞';
            }
            
            return 'üî¨'; // Í∏∞Î≥∏ Í≥ºÌïô Ïù¥Î™®ÏßÄ
        }

        // Í∏∞Ïà† Ï†úÎ™© Î≤àÏó≠ Îß§Ìïë
        const titleTranslations = {
            '5G cellular network': '5G ÏÖÄÎ£∞Îü¨ ÎÑ§Ìä∏ÏõåÌÅ¨(5G cellular network)',
            'Quantum computer': 'ÏñëÏûêÏª¥Ìì®ÌÑ∞(Quantum computer)',
            'Large language model': 'ÎåÄÍ∑úÎ™® Ïñ∏Ïñ¥Î™®Îç∏(Large language model)',
            'LLM chatbot': 'LLM Ï±óÎ¥á(LLM chatbot)',
            'Reflective LLM': 'Î∞òÏÑ±Ï†Å LLM(Reflective LLM)',
            'mRNA vaccine': 'mRNA Î∞±Ïã†(mRNA vaccine)',
            'Robotaxi': 'Î°úÎ≥¥ÌÉùÏãú(Robotaxi)',
            'Cultured meat': 'Î∞∞ÏñëÏú°(Cultured meat)',
            'Transformer (machine learning)': 'Ìä∏ÎûúÏä§Ìè¨Î®∏(Transformer)',
            'Advanced driver-assistance system': 'Ï≤®Îã® Ïö¥Ï†ÑÏûê Î≥¥Ï°∞ ÏãúÏä§ÌÖú(ADAS)',
            'Automated insulin delivery system': 'ÏûêÎèô Ïù∏ÏäêÎ¶∞ Ï†ÑÎã¨ ÏãúÏä§ÌÖú(Automated insulin delivery system)',
            'Text-to-image model': 'ÌÖçÏä§Ìä∏-Ïù¥ÎØ∏ÏßÄ Î™®Îç∏(Text-to-image model)',
            'Electromagnetic catapult': 'Ï†ÑÏûêÍ∏∞ Ìà¨ÏÑùÍ∏∞(Electromagnetic catapult)',
            'In-ovo sexing': 'ÎÇúÎÇ¥ ÏÑ±Í∞êÎ≥Ñ(In-ovo sexing)',
            'Neural network': 'Ïã†Í≤ΩÎßù(Neural network)',
            'Deep learning': 'Îî•Îü¨Îãù(Deep learning)',
            'Machine learning': 'Î®∏Ïã†Îü¨Îãù(Machine learning)',
            'Artificial intelligence': 'Ïù∏Í≥µÏßÄÎä•(Artificial intelligence)',
            'Virtual reality': 'Í∞ÄÏÉÅÌòÑÏã§(Virtual reality)',
            'Augmented reality': 'Ï¶ùÍ∞ïÌòÑÏã§(Augmented reality)',
            'Internet of Things': 'ÏÇ¨Î¨ºÏù∏ÌÑ∞ÎÑ∑(IoT)',
            'Blockchain': 'Î∏îÎ°ùÏ≤¥Ïù∏(Blockchain)',
            'Cryptocurrency': 'ÏïîÌò∏ÌôîÌèê(Cryptocurrency)',
            'CRISPR': 'CRISPR Ïú†Ï†ÑÏûêÍ∞ÄÏúÑ(CRISPR)',
            'Gene therapy': 'Ïú†Ï†ÑÏûê ÏπòÎ£å(Gene therapy)',
            'Smartphone': 'Ïä§ÎßàÌä∏Ìè∞(Smartphone)',
            'Tablet computer': 'ÌÉúÎ∏îÎ¶ø Ïª¥Ìì®ÌÑ∞(Tablet computer)',
            'GPS': 'GPS ÏúÑÏÑ±Ìï≠Î≤ïÏãúÏä§ÌÖú(GPS)',
            'WiFi': 'ÏôÄÏù¥ÌååÏù¥(WiFi)',
            'Bluetooth': 'Î∏îÎ£®Ìà¨Ïä§(Bluetooth)',
            'USB': 'USB Î≤îÏö©ÏßÅÎ†¨Î≤ÑÏä§(USB)',
            'LED': 'LED Î∞úÍ¥ëÎã§Ïù¥Ïò§Îìú(LED)',
            'OLED': 'OLED Ïú†Í∏∞Î∞úÍ¥ëÎã§Ïù¥Ïò§Îìú(OLED)',
            'Solar panel': 'ÌÉúÏñëÍ¥ë Ìå®ÎÑê(Solar panel)',
            'Wind turbine': 'ÌíçÎ†• ÌÑ∞Îπà(Wind turbine)',
            'Electric vehicle': 'Ï†ÑÍ∏∞ÏûêÎèôÏ∞®(Electric vehicle)',
            'Hybrid vehicle': 'ÌïòÏù¥Î∏åÎ¶¨Îìú ÏûêÎèôÏ∞®(Hybrid vehicle)',
            'Drone': 'ÎìúÎ°†(Drone)',
            '3D printing': '3D ÌîÑÎ¶∞ÌåÖ(3D printing)',
            'Laser': 'Î†àÏù¥Ï†Ä(Laser)',
            'Fiber optic': 'Í¥ëÏÑ¨Ïú†(Fiber optic)',
            'Satellite': 'Ïù∏Í≥µÏúÑÏÑ±(Satellite)',
            'Radar': 'Î†àÏù¥Îçî(Radar)',
            'Sonar': 'ÏÜåÎÇò(Sonar)',
            'MRI': 'MRI ÏûêÍ∏∞Í≥µÎ™ÖÏòÅÏÉÅ(MRI)',
            'CT scan': 'CT Ïª¥Ìì®ÌÑ∞Îã®Ï∏µÏ¥¨ÏòÅ(CT scan)',
            'Ultrasound': 'Ï¥àÏùåÌåå(Ultrasound)',
            'X-ray': 'XÏÑ†(X-ray)',
            'Telescope': 'ÎßùÏõêÍ≤Ω(Telescope)',
            'Microscope': 'ÌòÑÎØ∏Í≤Ω(Microscope)',
            'Robot': 'Î°úÎ¥á(Robot)',
            'Computer': 'Ïª¥Ìì®ÌÑ∞(Computer)',
            'Internet': 'Ïù∏ÌÑ∞ÎÑ∑(Internet)',
            'Email': 'Ïù¥Î©îÏùº(Email)',
            'Social media': 'ÏÜåÏÖúÎØ∏ÎîîÏñ¥(Social media)',
            'Cloud computing': 'ÌÅ¥ÎùºÏö∞Îìú Ïª¥Ìì®ÌåÖ(Cloud computing)',
            'Big data': 'ÎπÖÎç∞Ïù¥ÌÑ∞(Big data)',
            'Biometric': 'ÏÉùÏ≤¥Ïù∏Ïãù(Biometric)',
            'Nanotechnology': 'ÎÇòÎÖ∏Í∏∞Ïà†(Nanotechnology)',
            'Biotechnology': 'ÏÉùÎ™ÖÍ≥µÌïô(Biotechnology)'
        };

        // Î∂ÑÏïºÎ™Ö Î≤àÏó≠ Ìï®Ïàò
        function translateField(field) {
            return fieldTranslations[field] || field;
        }

        // Ï†úÎ™© Î≤àÏó≠ Ìï®Ïàò
        function translateTitle(title) {
            return titleTranslations[title] || title;
        }

        // ÏöîÏïΩ Ï†ïÎ¶¨ Ìï®Ïàò (Ï§ëÎ≥µÎêòÎäî Î∂ÑÏïºÎ™Ö Ï†úÍ±∞ Î∞è ÏÑ§Î™Ö Í∞úÏÑ†)
        function translateSummary(summary, originalTitle, fields) {
            if (!summary) {
                // ÏÑ§Î™ÖÏù¥ ÏóÜÎäî Í≤ΩÏö∞ Í∏∞Î≥∏ ÏÑ§Î™Ö ÏÉùÏÑ±
                return generateDefaultDescription(originalTitle, fields);
            }
            
            let cleanedSummary = summary;
            
            // ÏßßÏùÄ ÏÑ§Î™ÖÏù¥Í±∞ÎÇò Î∂ÑÏïºÎ™ÖÎßå ÏûàÎäî Í≤ΩÏö∞ Ï≤òÎ¶¨ (50Ïûê Ïù¥ÌïòÎ°ú Í∏∞Ï§Ä ÌôïÎåÄ)
            if (cleanedSummary.length < 50) {
                // Î∂ÑÏïºÎ™ÖÎßå ÏûàÎäîÏßÄ ÌôïÏù∏
                const isOnlyFieldName = Object.keys(fieldTranslations).some(field => 
                    cleanedSummary.trim() === field || 
                    cleanedSummary.trim().startsWith(field + ' ‚Ä¢') ||
                    cleanedSummary.trim().startsWith(field + ',')
                );
                
                // ÏúÑÏπò Ï†ïÎ≥¥Îßå ÏûàÎäîÏßÄ ÌôïÏù∏
                const hasOnlyLocationInfo = cleanedSummary.includes('ÏúÑÏπò:') && 
                    cleanedSummary.replace(/[^Í∞Ä-Ìû£a-zA-Z]/g, '').length < 20;
                
                if (isOnlyFieldName || hasOnlyLocationInfo) {
                    return generateDefaultDescription(originalTitle, fields);
                }
            }
            
            // Î∂ÑÏïºÎ™Ö Ï†úÍ±∞ (ÌÉúÍ∑∏Ïóê Ïù¥ÎØ∏ ÌëúÏãúÎêòÎØÄÎ°ú Ï§ëÎ≥µ Ï†úÍ±∞)
            Object.keys(fieldTranslations).forEach(englishField => {
                // Î∂ÑÏïºÎ™ÖÍ≥º Í∑∏ Îí§Ïùò Íµ¨Î∂ÑÏûê(‚Ä¢ ÎòêÎäî ,) Ï†úÍ±∞
                const escapedField = englishField.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                cleanedSummary = cleanedSummary.replace(new RegExp(`${escapedField}\\s*[‚Ä¢,]?\\s*`, 'g'), '');
            });
            
            // ÏúÑÏπò Ï†ïÎ≥¥ Ï†úÍ±∞ (Î≥ÑÎèÑ ÌëúÏãúÎêòÎØÄÎ°ú)
            cleanedSummary = cleanedSummary.replace(/\s*‚Ä¢\s*ÏúÑÏπò:[^‚Ä¢]*$/g, '');
            cleanedSummary = cleanedSummary.replace(/ÏúÑÏπò:[^‚Ä¢]*‚Ä¢?\s*/g, '');
            
            // Í∞úÎ∞úÏÇ¨ Ï†ïÎ≥¥ Ï†úÍ±∞ (Î≥ÑÎèÑ ÌëúÏãúÎêòÎØÄÎ°ú)
            cleanedSummary = cleanedSummary.replace(/\s*‚Ä¢\s*Í∞úÎ∞ú:[^‚Ä¢]*$/g, '');
            cleanedSummary = cleanedSummary.replace(/Í∞úÎ∞ú:[^‚Ä¢]*‚Ä¢?\s*/g, '');
            
            // Í∏∞Ïà†Î™Ö Î≤àÏó≠ Ï†ÅÏö©
            Object.entries(titleTranslations).forEach(([englishTerm, koreanTranslation]) => {
                const koreanOnly = koreanTranslation.split('(')[0].trim();
                if (cleanedSummary.includes(englishTerm)) {
                    cleanedSummary = cleanedSummary.replace(new RegExp(englishTerm, 'g'), koreanOnly);
                }
            });
            
            // Ïó∞ÏÜçÎêú Íµ¨Î∂ÑÏûêÎÇò Í≥µÎ∞± Ï†ïÎ¶¨
            cleanedSummary = cleanedSummary.replace(/\s*[‚Ä¢,]\s*[‚Ä¢,]\s*/g, ' ‚Ä¢ ');
            cleanedSummary = cleanedSummary.replace(/^\s*[‚Ä¢,]\s*/, ''); // ÏãúÏûë Î∂ÄÎ∂Ñ Íµ¨Î∂ÑÏûê Ï†úÍ±∞
            cleanedSummary = cleanedSummary.replace(/\s*[‚Ä¢,]\s*$/, ''); // ÎÅù Î∂ÄÎ∂Ñ Íµ¨Î∂ÑÏûê Ï†úÍ±∞
            cleanedSummary = cleanedSummary.replace(/\s+/g, ' ').trim(); // Ïó¨Îü¨ Í≥µÎ∞±ÏùÑ ÌïòÎÇòÎ°ú
            
            // Ï†ïÎ¶¨ ÌõÑÏóêÎèÑ ÎÑàÎ¨¥ ÏßßÏúºÎ©¥ Í∏∞Î≥∏ ÏÑ§Î™Ö ÏÉùÏÑ±
            if (cleanedSummary.length < 10) {
                return generateDefaultDescription(originalTitle, fields);
            }
            
            return cleanedSummary;
        }
        
        // Í∏∞Î≥∏ ÏÑ§Î™Ö ÏÉùÏÑ± Ìï®Ïàò (Ï¥àÎì±ÌïôÏÉùÎèÑ Ïù¥Ìï¥ÌïòÍ∏∞ Ïâ¨Ïö¥ ÏÑ§Î™Ö)
        function generateDefaultDescription(title, fields) {
            const fieldName = fields && fields.length > 0 ? translateField(fields[0]) : 'Í≥ºÌïôÍ∏∞Ïà†';
            const translatedTitle = translateTitle(title);
            const title_lower = title.toLowerCase();
            
            // Í∏∞Ïà†Î™ÖÏóêÏÑú ÌïúÍµ≠Ïñ¥ Î∂ÄÎ∂ÑÎßå Ï∂îÏ∂ú
            const koreanTitle = translatedTitle.includes('(') ? 
                translatedTitle.split('(')[0].trim() : translatedTitle;
            
            // Í∏∞Ïà†Î≥Ñ ÎßûÏ∂§ ÏÑ§Î™Ö ÏÉùÏÑ±
            if (title_lower.includes('ai') || title_lower.includes('artificial intelligence')) {
                return 'ÏÇ¨ÎûåÏ≤òÎüº ÏÉùÍ∞ÅÌïòÍ≥† ÌïôÏäµÌï† Ïàò ÏûàÎäî Ïª¥Ìì®ÌÑ∞ Í∏∞Ïà†ÏûÖÎãàÎã§. ÏßàÎ¨∏Ïóê ÎãµÌïòÍ±∞ÎÇò Í∑∏Î¶ºÏùÑ Í∑∏Î¶¨Îäî Îì± Îã§ÏñëÌïú ÏùºÏùÑ Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('quantum')) {
                return 'ÏïÑÏ£º ÏûëÏùÄ ÏûÖÏûêÏùò ÌäπÎ≥ÑÌïú ÏÑ±ÏßàÏùÑ Ïù¥Ïö©Ìïú Í∏∞Ïà†ÏûÖÎãàÎã§. Í∏∞Ï°¥ Ïª¥Ìì®ÌÑ∞Î≥¥Îã§ Ìõ®Ïî¨ Îπ†Î•¥Í≤å Í≥ÑÏÇ∞Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('robot')) {
                return 'ÏÇ¨Îûå ÎåÄÏã† ÏùºÏùÑ Ìï† Ïàò ÏûàÎäî Í∏∞Í≥ÑÏûÖÎãàÎã§. Ï≤≠ÏÜå, ÏöîÎ¶¨, Ïö¥Ï†Ñ Îì± Îã§ÏñëÌïú ÏùºÏùÑ ÎèÑÏôÄÏ§Ñ Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('drone')) {
                return 'ÏÇ¨ÎûåÏù¥ ÌÉÄÏßÄ ÏïäÍ≥† ÏõêÍ≤©ÏúºÎ°ú Ï°∞Ï¢ÖÌïòÎäî ÎπÑÌñâÍ∏∞ÏûÖÎãàÎã§. Î∞∞Îã¨, Ï¥¨ÏòÅ, Íµ¨Ï°∞ ÏûëÏóÖ Îì±Ïóê ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('satellite')) {
                return 'ÏßÄÍµ¨ Ï£ºÏúÑÎ•º ÎèåÎ©¥ÏÑú ÌÜµÏã†Ïù¥ÎÇò ÎÇ†Ïî® Í¥ÄÏ∏°ÏùÑ ÌïòÎäî Ïù∏Í≥µ Î¨ºÏ≤¥ÏûÖÎãàÎã§. GPSÎÇò Ïù∏ÌÑ∞ÎÑ∑ Ïó∞Í≤∞Ïóê ÎèÑÏõÄÏùÑ Ï§òÏöî.';
            }
            if (title_lower.includes('laser')) {
                return 'Îß§Ïö∞ Í∞ïÌïòÍ≥† Ï†ïÌôïÌïú ÎπõÏùÑ ÎßåÎìúÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏàòÏà†, Ï∏°Ï†ï, Ï†úÏ°∞ Îì± Îã§ÏñëÌïú Î∂ÑÏïºÏóêÏÑú ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('computer')) {
                return 'Ï†ïÎ≥¥Î•º Ï†ÄÏû•ÌïòÍ≥† Í≥ÑÏÇ∞ÌïòÎäî Ï†ÑÏûê Í∏∞Í≥ÑÏûÖÎãàÎã§. Í≤åÏûÑ, Í≥µÎ∂Ä, Ïùº Îì± Ïö∞Î¶¨ ÏÉùÌôúÏùò ÎßéÏùÄ Î∂ÄÎ∂ÑÏóêÏÑú ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('internet')) {
                return 'Ï†Ñ ÏÑ∏Í≥Ñ Ïª¥Ìì®ÌÑ∞Îì§Ïù¥ Ïó∞Í≤∞Îêú Í±∞ÎåÄÌïú ÎÑ§Ìä∏ÏõåÌÅ¨ÏûÖÎãàÎã§. Ï†ïÎ≥¥ Í≤ÄÏÉâ, ÏÜåÌÜµ, ÏáºÌïë Îì±ÏùÑ Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('smartphone')) {
                return 'Ï†ÑÌôî, Ïù∏ÌÑ∞ÎÑ∑, Ïπ¥Î©îÎùº Îì± Ïó¨Îü¨ Í∏∞Îä•Ïù¥ Ìï©Ï≥êÏßÑ ÏûëÏùÄ Ïª¥Ìì®ÌÑ∞ÏûÖÎãàÎã§. ÏÜê ÏïàÏóêÏÑú ÎßéÏùÄ ÏùºÏùÑ Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('electric') && title_lower.includes('car')) {
                return 'Í∏∞Î¶Ñ ÎåÄÏã† Ï†ÑÍ∏∞Î°ú ÏõÄÏßÅÏù¥Îäî ÏûêÎèôÏ∞®ÏûÖÎãàÎã§. Í≥µÍ∏∞Î•º Íπ®ÎÅóÌïòÍ≤å Ïú†ÏßÄÌïòÍ≥† ÏÜåÏùåÎèÑ Ï†ÅÏñ¥Ïöî.';
            }
            if (title_lower.includes('vaccine')) {
                return 'Î≥ëÏóê Í±∏Î¶¨ÏßÄ ÏïäÎèÑÎ°ù ÎØ∏Î¶¨ ÏòàÎ∞©ÌïòÎäî ÏïΩÏûÖÎãàÎã§. Ï£ºÏÇ¨Î°ú ÎßûÏïÑÏÑú Ïö∞Î¶¨ Î™∏Ïù¥ Î≥ëÍ∑†Í≥º Ïã∏Ïö∏ Ïàò ÏûàÍ≤å ÎèÑÏôÄÏ§òÏöî.';
            }
            if (title_lower.includes('gene') || title_lower.includes('dna')) {
                return 'ÏÉùÎ™ÖÏ≤¥Ïùò Ïú†Ï†Ñ Ï†ïÎ≥¥Î•º Ïó∞Íµ¨ÌïòÍ≥† ÏàòÏ†ïÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏßàÎ≥ë ÏπòÎ£åÎÇò Îçî Ï¢ãÏùÄ ÏûëÎ¨ºÏùÑ ÎßåÎìúÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('solar')) {
                return 'ÌÉúÏñëÏùò ÎπõÏùÑ Ï†ÑÍ∏∞Î°ú Î∞îÍæ∏Îäî Í∏∞Ïà†ÏûÖÎãàÎã§. Íπ®ÎÅóÌïú ÏóêÎÑàÏßÄÎ•º ÎßåÎì§Ïñ¥ÏÑú ÌôòÍ≤ΩÏùÑ Î≥¥Ìò∏Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('3d print')) {
                return 'Ïª¥Ìì®ÌÑ∞Î°ú ÏÑ§Í≥ÑÌïú Î¨ºÍ±¥ÏùÑ Ïã§Ï†úÎ°ú ÎßåÎì§Ïñ¥ÎÇ¥Îäî Í∏∞Í≥ÑÏûÖÎãàÎã§. ÌîåÎùºÏä§Ìã±Ïù¥ÎÇò Í∏àÏÜçÏùÑ Ï∏µÏ∏µÏù¥ ÏåìÏïÑÏÑú ÎßåÎì§Ïñ¥Ïöî.';
            }
            if (title_lower.includes('telescope')) {
                return 'Î©ÄÎ¶¨ ÏûàÎäî Î≥ÑÏù¥ÎÇò ÌñâÏÑ±ÏùÑ ÌÅ¨Í≤å Î≥¥Ïó¨Ï£ºÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. Ïö∞Ï£ºÏùò Ïã†ÎπÑÎ•º ÌÉêÌóòÌïòÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('microscope')) {
                return 'ÏïÑÏ£º ÏûëÏùÄ Í≤ÉÎì§ÏùÑ ÌÅ¨Í≤å Î≥¥Ïó¨Ï£ºÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. ÏÑ∏Ìè¨ÎÇò ÏÑ∏Í∑† Í∞ôÏùÄ ÎààÏóê Î≥¥Ïù¥ÏßÄ ÏïäÎäî Í≤ÉÎì§ÏùÑ Í¥ÄÏ∞∞Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('x-ray')) {
                return 'Î™∏ ÏÜçÏùÑ Îì§Ïó¨Îã§Î≥º Ïàò ÏûàÎäî ÌäπÎ≥ÑÌïú ÎπõÏûÖÎãàÎã§. ÎºàÍ∞Ä Î∂ÄÎü¨Ï°åÎäîÏßÄ ÌôïÏù∏ÌïòÍ±∞ÎÇò Î≥ëÏùÑ Ï∞æÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('airplane')) {
                return 'ÌïòÎäòÏùÑ ÎÇ† Ïàò ÏûàÎäî ÍµêÌÜµÏàòÎã®ÏûÖÎãàÎã§. Î®º Í≥≥ÍπåÏßÄ Îπ†Î•¥Í≤å Ïù¥ÎèôÌï† Ïàò ÏûàÍ≤å Ìï¥Ï§òÏöî.';
            }
            if (title_lower.includes('wheel')) {
                return 'Îë•Í∑º Î™®ÏñëÏúºÎ°ú Íµ¥Îü¨Í∞ÄÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. Î¨¥Í±∞Ïö¥ Î¨ºÍ±¥ÏùÑ ÏâΩÍ≤å ÏòÆÍ∏∞Í±∞ÎÇò Îπ†Î•¥Í≤å Ïù¥ÎèôÌï† Ïàò ÏûàÍ≤å Ìï¥Ï§òÏöî.';
            }
            if (title_lower.includes('fire')) {
                return 'Ïó¥Í≥º ÎπõÏùÑ ÎßåÎìúÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏùåÏãùÏùÑ ÏöîÎ¶¨ÌïòÍ≥†, Ï∂îÏúÑÎ•º ÎßâÍ≥†, ÎèÑÍµ¨Î•º ÎßåÎìúÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('printing')) {
                return 'Í∏ÄÏûêÎÇò Í∑∏Î¶ºÏùÑ Ï¢ÖÏù¥Ïóê Ï∞çÏñ¥ÎÇ¥Îäî Í∏∞Ïà†ÏûÖÎãàÎã§. Ï±ÖÏù¥ÎÇò Ïã†Î¨∏ÏùÑ ÎßéÏù¥ ÎßåÎì§Ïñ¥ÏÑú ÏßÄÏãùÏùÑ ÎÑêÎ¶¨ ÌçºÎú®Î¶¥ Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('clock')) {
                return 'ÏãúÍ∞ÑÏùÑ Ï†ïÌôïÌïòÍ≤å ÏïåÎ†§Ï£ºÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. ÏïΩÏÜç ÏãúÍ∞ÑÏùÑ ÏßÄÌÇ§Í≥† ÏùºÏ†ïÏùÑ Í¥ÄÎ¶¨ÌïòÎäî Îç∞ ÎèÑÏõÄÏùÑ Ï§òÏöî.';
            }
            if (title_lower.includes('compass')) {
                return 'Î∞©Ìñ•ÏùÑ ÏïåÎ†§Ï£ºÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. Í∏∏ÏùÑ ÏûÉÏßÄ ÏïäÍ≥† Î™©Ï†ÅÏßÄÎ•º Ï∞æÏïÑÍ∞à Ïàò ÏûàÍ≤å ÎèÑÏôÄÏ§òÏöî.';
            }
            if (title_lower.includes('paper')) {
                return 'Í∏ÄÏùÑ Ïì∞Í≥† Í∑∏Î¶ºÏùÑ Í∑∏Î¶¥ Ïàò ÏûàÎäî ÏñáÏùÄ Ïû¨Î£åÏûÖÎãàÎã§. ÏßÄÏãùÍ≥º Ï†ïÎ≥¥Î•º Í∏∞Î°ùÌïòÍ≥† Ï†ÑÎã¨ÌïòÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('agriculture') || title_lower.includes('farming')) {
                return 'ÏãùÎ¨ºÏùÑ Í∏∞Î•¥Í≥† ÎèôÎ¨ºÏùÑ ÌÇ§ÏõåÏÑú ÏùåÏãùÏùÑ ÎßåÎìúÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏÇ¨ÎûåÎì§Ïù¥ Î®πÏùÑ Ïàò ÏûàÎäî Í≥°ÏãùÍ≥º Ï±ÑÏÜåÎ•º ÏÉùÏÇ∞Ìï¥Ïöî.';
            }
            if (title_lower.includes('medicine') || title_lower.includes('drug')) {
                return 'ÏïÑÌîà ÏÇ¨ÎûåÏùÑ ÏπòÎ£åÌïòÎäî ÏïΩÏù¥ÎÇò Î∞©Î≤ïÏûÖÎãàÎã§. Î≥ëÏùÑ ÎÇ´Í≤å ÌïòÍ≥† Í±¥Í∞ïÏùÑ ÏßÄÌÇ§Îäî Îç∞ ÎèÑÏõÄÏùÑ Ï§òÏöî.';
            }
            if (title_lower.includes('metal') || title_lower.includes('iron')) {
                return 'Îã®Îã®ÌïòÍ≥† Ïú†Ïö©Ìïú Ïû¨Î£åÎ•º ÎßåÎìúÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÎèÑÍµ¨, Í±¥Î¨º, Í∏∞Í≥Ñ Îì±ÏùÑ ÎßåÎìúÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('bridge')) {
                return 'Í∞ïÏù¥ÎÇò Í≥ÑÍ≥°ÏùÑ Í±¥ÎÑê Ïàò ÏûàÍ≤å ÎßåÎì† Íµ¨Ï°∞Î¨ºÏûÖÎãàÎã§. ÏÇ¨ÎûåÍ≥º Ï∞®Í∞Ä ÏïàÏ†ÑÌïòÍ≤å Ïù¥ÎèôÌï† Ïàò ÏûàÍ≤å ÎèÑÏôÄÏ§òÏöî.';
            }
            if (title_lower.includes('train')) {
                return 'Ï≤†Î°ú ÏúÑÎ•º Îã¨Î¶¨Îäî ÍµêÌÜµÏàòÎã®ÏûÖÎãàÎã§. ÎßéÏùÄ ÏÇ¨ÎûåÍ≥º Î¨ºÍ±¥ÏùÑ Îπ†Î•¥Í≥† ÏïàÏ†ÑÌïòÍ≤å Ïö¥Î∞òÌï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('ship') || title_lower.includes('boat')) {
                return 'Î¨º ÏúÑÏóê Îñ†ÏÑú Ïù¥ÎèôÌïòÎäî ÍµêÌÜµÏàòÎã®ÏûÖÎãàÎã§. Î∞îÎã§ÎÇò Í∞ïÏùÑ Í±¥ÎÑàÍ±∞ÎÇò Î¨ºÍ±¥ÏùÑ Ïö¥Î∞òÌïòÎäî Îç∞ ÏÇ¨Ïö©ÎèºÏöî.';
            }
            if (title_lower.includes('light') || title_lower.includes('lamp')) {
                return 'Ïñ¥Îë†ÏùÑ Î∞ùÌòÄÏ£ºÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. Î∞§ÏóêÎèÑ ÌôúÎèôÌï† Ïàò ÏûàÍ≤å ÌïòÍ≥† ÏïàÏ†ÑÏùÑ ÏßÄÏºúÏ§òÏöî.';
            }
            if (title_lower.includes('camera')) {
                return 'ÏàúÍ∞ÑÏùÑ ÏÇ¨ÏßÑÏúºÎ°ú Í∏∞Î°ùÌïòÎäî ÎèÑÍµ¨ÏûÖÎãàÎã§. ÏÜåÏ§ëÌïú Ï∂îÏñµÏùÑ ÎÇ®Í∏∞Í≥† Ï†ïÎ≥¥Î•º ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú Ï†ÑÎã¨Ìï† Ïàò ÏûàÏñ¥Ïöî.';
            }
            if (title_lower.includes('radio')) {
                return 'Î©ÄÎ¶¨ ÏûàÎäî ÏÜåÎ¶¨Î•º Îì§ÏùÑ Ïàò ÏûàÍ≤å ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏùåÏïÖ, Îâ¥Ïä§, Ï†ïÎ≥¥Î•º Î¨¥ÏÑ†ÏúºÎ°ú Ï†ÑÎã¨Ìï¥Ï§òÏöî.';
            }
            if (title_lower.includes('television')) {
                return 'Î©ÄÎ¶¨ÏÑú ÏùºÏñ¥ÎÇòÎäî ÏùºÏùÑ ÏòÅÏÉÅÏúºÎ°ú Î≥º Ïàò ÏûàÍ≤å ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÍµêÏú°, Ïò§ÎùΩ, Ï†ïÎ≥¥ Ï†ÑÎã¨Ïóê ÏÇ¨Ïö©ÎèºÏöî.';
            }
            
            // Î∂ÑÏïºÎ≥Ñ Í∏∞Î≥∏ ÏÑ§Î™Ö
            if (fields && fields.length > 0) {
                const field = fields[0].toLowerCase();
                if (field.includes('computing')) {
                    return 'Ïª¥Ìì®ÌÑ∞ÏôÄ Í¥ÄÎ†®Îêú Í∏∞Ïà†ÏûÖÎãàÎã§. Í≥ÑÏÇ∞ÏùÑ Îπ†Î•¥Í≤å ÌïòÍ≥† Ï†ïÎ≥¥Î•º Ï≤òÎ¶¨ÌïòÎäî Îç∞ ÎèÑÏõÄÏùÑ Ï§òÏöî.';
                }
                if (field.includes('medicine')) {
                    return 'ÏÇ¨ÎûåÏùò Í±¥Í∞ïÏùÑ ÏßÄÌÇ§Í≥† Î≥ëÏùÑ ÏπòÎ£åÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. Îçî Ïò§Îûò Í±¥Í∞ïÌïòÍ≤å ÏÇ¥ Ïàò ÏûàÍ≤å ÎèÑÏôÄÏ§òÏöî.';
                }
                if (field.includes('transportation')) {
                    return 'ÏÇ¨ÎûåÍ≥º Î¨ºÍ±¥ÏùÑ Ìïú Í≥≥ÏóêÏÑú Îã§Î•∏ Í≥≥ÏúºÎ°ú ÏòÆÍ∏∞Îäî Í∏∞Ïà†ÏûÖÎãàÎã§. Îçî Îπ†Î•¥Í≥† ÏïàÏ†ÑÌïòÍ≤å Ïù¥ÎèôÌï† Ïàò ÏûàÍ≤å Ìï¥Ï§òÏöî.';
                }
                if (field.includes('communication')) {
                    return 'Î©ÄÎ¶¨ ÏûàÎäî ÏÇ¨ÎûåÍ≥º ÎåÄÌôîÌïòÍ±∞ÎÇò Ï†ïÎ≥¥Î•º Ï£ºÍ≥†Î∞õÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏÑ∏ÏÉÅÏùÑ Îçî Í∞ÄÍπùÍ≤å ÎßåÎì§Ïñ¥Ï§òÏöî.';
                }
                if (field.includes('energy')) {
                    return 'Ï†ÑÍ∏∞ÎÇò Ïó¥ Í∞ôÏùÄ ÌûòÏùÑ ÎßåÎì§Í≥† ÏÇ¨Ïö©ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. Ïö∞Î¶¨ ÏÉùÌôúÏóê ÌïÑÏöîÌïú ÏóêÎÑàÏßÄÎ•º Í≥µÍ∏âÌï¥Ï§òÏöî.';
                }
                if (field.includes('space')) {
                    return 'Ïö∞Ï£ºÎ•º ÌÉêÌóòÌïòÍ≥† Ïó∞Íµ¨ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏßÄÍµ¨ Î∞ñÏùò Ïã†ÎπÑÌïú ÏÑ∏Í≥ÑÎ•º ÏïåÏïÑÍ∞ÄÎäî Îç∞ ÎèÑÏõÄÏùÑ Ï§òÏöî.';
                }
                if (field.includes('agriculture')) {
                    return 'ÎÜçÏÇ¨Î•º Îçî Ïûò ÏßìÍ≥† ÏùåÏãùÏùÑ Îçî ÎßéÏù¥ ÏÉùÏÇ∞ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏÇ¨ÎûåÎì§Ïù¥ Î∞∞Í≥†ÌîÑÏßÄ ÏïäÍ≤å ÎèÑÏôÄÏ§òÏöî.';
                }
                if (field.includes('construction')) {
                    return 'ÏßëÏù¥ÎÇò Í±¥Î¨ºÏùÑ ÏßìÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏÇ¨ÎûåÎì§Ïù¥ ÏïàÏ†ÑÌïòÍ≥† Ìé∏ÏïàÌïòÍ≤å ÏÇ¥ Ïàò ÏûàÎäî Í≥µÍ∞ÑÏùÑ ÎßåÎì§Ïñ¥Ï§òÏöî.';
                }
                if (field.includes('safety')) {
                    return 'ÏúÑÌóòÏúºÎ°úÎ∂ÄÌÑ∞ ÏÇ¨ÎûåÎì§ÏùÑ Î≥¥Ìò∏ÌïòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. ÏÇ¨Í≥†Î•º ÏòàÎ∞©ÌïòÍ≥† ÏïàÏ†ÑÏùÑ ÏßÄÏºúÏ§òÏöî.';
                }
                if (field.includes('education') || field.includes('learning')) {
                    return 'Í≥µÎ∂ÄÌïòÍ≥† Î∞∞Ïö∞Îäî Í≤ÉÏùÑ ÎèÑÏôÄÏ£ºÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. Îçî ÏâΩÍ≥† Ïû¨ÎØ∏ÏûàÍ≤å ÏßÄÏãùÏùÑ ÏñªÏùÑ Ïàò ÏûàÍ≤å Ìï¥Ï§òÏöî.';
                }
            }
            
            return `${fieldName} Î∂ÑÏïºÏùò Ï§ëÏöîÌïú Î∞úÎ™ÖÌíàÏûÖÎãàÎã§. Ïö∞Î¶¨ ÏÉùÌôúÏùÑ Îçî Ìé∏Î¶¨ÌïòÍ≥† ÏïàÏ†ÑÌïòÍ≤å ÎßåÎì§Ïñ¥Ï£ºÎäî Í∏∞Ïà†Ïù¥ÏóêÏöî.`;
        }

        // Ïó∞ÎèÑ ÎùºÎ≤® Ìè¨Îß∑ÌåÖ
        function formatYearLabel(year, yearLabel) {
            if (yearLabel) return yearLabel;
            if (typeof year === 'number') {
                return year < 0 ? `${Math.abs(year)} BCE` : `${year}`;
            }
            return '';
        }

        // ÌÉÄÏûÑÎùºÏù∏ ÏïÑÏù¥ÌÖú Î†åÎçîÎßÅ
        function renderTimelineItem(item, isLast, previousYear) {
            const dateLabel = formatYearLabel(item.year, item.yearLabel);
            let decadeMarker = '';
            
            // Ïó∞ÎèÑÎ≥Ñ Íµ¨Î∂ÑÏÑ† (10ÎÖÑ Îã®ÏúÑ)
            if (previousYear && Math.floor(item.year / 10) !== Math.floor(previousYear / 10)) {
                const decade = Math.floor(item.year / 10) * 10;
                decadeMarker = `
                    <div class="decade-marker">
                        <div class="decade-label">${decade}ÎÖÑÎåÄ</div>
                    </div>
                `;
            }
            
            return `
                ${decadeMarker}
                <li class="relative min-h-[72px] fade-in-up" data-year="${item.year}">
                    <!-- ÎÇ†Ïßú Ïª¨Îüº -->
                    <div class="absolute -left-24 top-1.5 w-20 text-right" style="color: var(--text-secondary)">
                        <span class="whitespace-nowrap text-sm font-medium">${dateLabel}</span>
                    </div>

                    <!-- ÌÉÄÏûÑÎùºÏù∏ Ï†ê -->
                    <div class="absolute left-7 top-2">
                        <div class="h-6 w-6 rounded-full timeline-dot flex items-center justify-center" style="background-color: var(--accent-color)">
                            <span class="text-xs text-white">‚úì</span>
                        </div>
                    </div>

                    <!-- Ïπ¥Îìú -->
                    <div class="ml-12">
                        <div class="rounded-2xl tech-card p-5 shadow-sm card-hover transition-all duration-300">
                            <div class="flex items-start gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 text-xl">
                                    ${getTechEmoji(item.title, item.fields)}
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between gap-3">
                                        <h3 class="text-lg font-bold leading-6 mb-1" style="color: var(--text-primary)">
                                            ${translateTitle(item.title)}
                                        </h3>
                                        ${item.href ? `
                                            <a
                                                href="${item.href}"
                                                class="inline-flex items-center gap-1 text-sm hover:underline"
                                                style="color: var(--accent-color)"
                                                target="_blank"
                                                rel="noreferrer noopener"
                                            >
                                                <span>ÏûêÏÑ∏Ìûà</span>
                                                <span>üîó</span>
                                            </a>
                                        ` : ''}
                                    </div>
                                    <p class="mt-2 text-sm leading-relaxed" style="color: var(--text-secondary)">${translateSummary(item.summary, item.title, item.fields)}</p>
                                    ${item.organizations?.length ? `
                                        <p class="mt-1 text-xs" style="color: var(--text-secondary)">
                                            üè¢ ${item.organizations.join(', ')}
                                        </p>
                                    ` : ''}
                                    ${item.location ? `
                                        <p class="mt-1 text-xs" style="color: var(--text-secondary)">
                                            üìç ${item.location}
                                        </p>
                                    ` : ''}
                                    <!-- Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ ÌÉúÍ∑∏ -->
                                    ${(item.fields?.length || item.type) ? `
                                        <div class="mt-2 flex flex-wrap gap-1">
                                            ${item.type ? `
                                                <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium" style="background-color: var(--border-color); color: var(--text-secondary)">
                                                    ${item.type}
                                                </span>
                                            ` : ''}
                                            ${item.fields?.slice(0, 3).map(field => `
                                                <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium" style="background-color: var(--accent-color); color: white">
                                                    ${translateField(field)}
                                                </span>
                                            `).join('') || ''}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    </div>

                    ${isLast ? '<div class="absolute left-8 -bottom-3 h-3 w-0.5 timeline-line" aria-hidden="true"></div>' : ''}
                </li>
            `;
        }

        // ÌïÑÌÑ∞ÎßÅ Ìï®Ïàò
        function filterItems() {
            if (!timelineData) return;

            const searchQuery = elements.searchInput.value.trim().toLowerCase();
            const selectedField = elements.fieldSelect.value;
            const minYear = elements.minYearInput.value ? Number(elements.minYearInput.value) : null;
            const maxYear = elements.maxYearInput.value ? Number(elements.maxYearInput.value) : null;

            filteredItems = timelineData.items.filter(item => {
                // Î∂ÑÏïº ÌïÑÌÑ∞
                if (selectedField && !item.fields?.some(f => f.toLowerCase() === selectedField.toLowerCase())) {
                    return false;
                }
                
                // Ïó∞ÎèÑ Î≤îÏúÑ ÌïÑÌÑ∞
                if (typeof minYear === 'number' && typeof item.year === 'number' && item.year < minYear) {
                    return false;
                }
                if (typeof maxYear === 'number' && typeof item.year === 'number' && item.year > maxYear) {
                    return false;
                }
                
                // ÌÖçÏä§Ìä∏ Í≤ÄÏÉâ
                if (!searchQuery) return true;
                
                const searchText = [
                    item.title,
                    item.summary,
                    ...(item.fields || []),
                    ...(item.organizations || []),
                    item.location
                ]
                    .filter(Boolean)
                    .join(' ')
                    .toLowerCase();
                    
                return searchText.includes(searchQuery);
            });

            renderTimeline();
        }

        // ÌÉÄÏûÑÎùºÏù∏ Î†åÎçîÎßÅ
        function renderTimeline() {
            elements.resultCount.textContent = `${filteredItems.length.toLocaleString()}Í∞ú Í≤∞Í≥º`;
            
            if (filteredItems.length === 0) {
                elements.timeline.innerHTML = '<div class="text-center py-8" style="color: var(--text-secondary)">Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>';
                return;
            }
            
            elements.timeline.innerHTML = filteredItems
                .map((item, idx) => {
                    const isLast = idx === filteredItems.length - 1;
                    const previousYear = idx > 0 ? filteredItems[idx - 1].year : null;
                    return renderTimelineItem(item, isLast, previousYear);
                })
                .join('');
        }

        // Ïó∞ÎèÑ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏÉùÏÑ±
        function generateYearNavigation(items) {
            const years = [...new Set(items.map(item => item.year))].sort((a, b) => a - b);
            const decades = {};
            
            years.forEach(year => {
                const decade = Math.floor(year / 10) * 10;
                if (!decades[decade]) decades[decade] = [];
                decades[decade].push(year);
            });
            
            return Object.keys(decades).map(decade => {
                const decadeYears = decades[decade];
                return `
                    <div class="decade-nav">
                        <button class="decade-btn" onclick="scrollToYear(${decade})">
                            ${decade}ÎÖÑÎåÄ
                        </button>
                        <div class="year-list">
                            ${decadeYears.map(year => `
                                <button class="year-btn" onclick="scrollToYear(${year})">
                                    ${year}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // ÌäπÏ†ï Ïó∞ÎèÑÎ°ú Ïä§ÌÅ¨Î°§
        function scrollToYear(year) {
            const element = document.querySelector(`[data-year="${year}"]`);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                element.classList.add('highlight');
                setTimeout(() => element.classList.remove('highlight'), 2000);
            }
        }

        // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadData() {
            try {
                const response = await fetch('./timeline-data.json');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                timelineData = await response.json();
                
                // UI ÏóÖÎç∞Ïù¥Ìä∏
                elements.stats.textContent = `Ï¥ù ${timelineData.metadata.totalItems.toLocaleString()}Í∞ú Í∏∞Ïà† ‚Ä¢ ${timelineData.metadata.dateRange.earliest.toLocaleString()} ~ ${timelineData.metadata.dateRange.latest} ÎÖÑ`;
                
                // Î∂ÑÏïº ÏòµÏÖò Ï∂îÍ∞Ä
                timelineData.metadata.fields.forEach(field => {
                    const option = document.createElement('option');
                    option.value = field;
                    option.textContent = translateField(field);
                    elements.fieldSelect.appendChild(option);
                });
                
                // ÏÉùÏÑ±Ïùº ÌëúÏãú
                elements.generatedDate.textContent = `ÏÉùÏÑ±Ïùº: ${new Date(timelineData.metadata.generatedAt).toLocaleDateString('ko-KR')}`;
                
                // Ïó∞ÎèÑ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ï¥àÍ∏∞Ìôî
                elements.yearNav.innerHTML = generateYearNavigation(timelineData.items);
                
                // Ï¥àÍ∏∞ ÌïÑÌÑ∞ÎßÅ
                filterItems();
                
                // Ïï†ÎãàÎ©îÏù¥ÏÖò Í¥ÄÏ∞∞Ïûê Ï¥àÍ∏∞Ìôî
                initializeAnimationObserver();
                
                // Î°úÎî© ÏôÑÎ£å
                elements.loading.classList.add('hidden');
                elements.content.classList.remove('hidden');
                
            } catch (error) {
                console.error('Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:', error);
                elements.errorMessage.textContent = error.message;
                elements.loading.classList.add('hidden');
                elements.error.classList.remove('hidden');
            }
        }

        // Debounce Ìï®Ïàò (Í≤ÄÏÉâ UX Í∞úÏÑ†)
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù
        function setupEventListeners() {
            // Í≤ÄÏÉâ ÏûÖÎ†•ÏóêÎßå debounce Ï†ÅÏö© (300ms ÏßÄÏó∞)
            elements.searchInput.addEventListener('input', debounce(filterItems, 300));
            // Ïó∞ÎèÑ ÏûÖÎ†•Í≥º ÌïÑÎìú ÏÑ†ÌÉùÏùÄ Ï¶âÏãú Ï†ÅÏö©
            elements.minYearInput.addEventListener('input', filterItems);
            elements.maxYearInput.addEventListener('input', filterItems);
            elements.fieldSelect.addEventListener('change', filterItems);
        }
        
        // Ïï†ÎãàÎ©îÏù¥ÏÖò Í¥ÄÏ∞∞Ïûê Ï¥àÍ∏∞Ìôî
        function initializeAnimationObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            
            // Í∏∞Ï°¥ ÏöîÏÜåÎì§ Í¥ÄÏ∞∞
            document.querySelectorAll('.fade-in-up').forEach(el => {
                observer.observe(el);
            });
            
            // ÏÉàÎ°ú Ï∂îÍ∞ÄÎêòÎäî ÏöîÏÜåÎì§ÏùÑ ÏúÑÌïú MutationObserver
            const mutationObserver = new MutationObserver((mutations) => {
                mutations.forEach(mutation => {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1) {
                            const fadeElements = node.querySelectorAll ? node.querySelectorAll('.fade-in-up') : [];
                            fadeElements.forEach(el => observer.observe(el));
                            if (node.classList && node.classList.contains('fade-in-up')) {
                                observer.observe(node);
                            }
                        }
                    });
                });
            });
            
            mutationObserver.observe(elements.timeline, {
                childList: true,
                subtree: true
            });
        }

        // Ï¥àÍ∏∞Ìôî
        function init() {
            initTheme();
            setupEventListeners();
            loadData();
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïã§Ìñâ
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>