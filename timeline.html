<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¼í•™ê¸°ìˆ  ë°œì „ì‚¬ íƒ€ì„ë¼ì¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg-primary: #f5f3f0;
            --bg-secondary: #ffffff;
            --text-primary: #312927;
            --text-secondary: #795942;
            --border-color: #d4c8b8;
            --accent-color: #123300;
            --accent-light: #2d5a1a;
        }
        
        [data-theme="dark"] {
            --bg-primary: #312927;
            --bg-secondary: #3d332f;
            --text-primary: #f5f3f0;
            --text-secondary: #c4b5a0;
            --border-color: #5a4d47;
            --accent-color: #4a7c59;
            --accent-light: #6b9b7a;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .timeline-line {
            background: linear-gradient(to bottom, var(--accent-light), var(--accent-color));
        }
        .timeline-dot {
            box-shadow: 0 0 0 4px var(--bg-secondary), 0 0 0 6px var(--accent-light);
        }
        .card-hover:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 25px 50px rgba(99, 102, 241, 0.25);
        }
        .tech-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .tech-card:hover {
            border-color: var(--accent-color);
        }
        .loading-spinner {
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        /* ì—°ë„ë³„ êµ¬ë¶„ì„  */
        .decade-marker {
            position: relative;
            margin: 2rem 0;
        }
        .decade-marker::before {
            content: '';
            position: absolute;
            left: -2rem;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, var(--accent-color), transparent);
            opacity: 0.3;
        }
        .decade-label {
            background: var(--bg-primary);
            color: var(--accent-color);
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            border: 2px solid var(--accent-color);
            display: inline-block;
        }
        
        /* ìŠ¤í‹°í‚¤ í—¤ë” */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 50;
            background: var(--bg-primary);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }
        
        /* ë‹¤í¬ëª¨ë“œ í† ê¸€ */
        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .theme-toggle:hover {
            background: var(--accent-color);
            color: white;
        }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ìŠ¤ë¬´ìŠ¤ ìŠ¤í¬ë¡¤ */
        html {
            scroll-behavior: smooth;
        }
        
        /* ì—°ë„ ì í”„ ë„¤ë¹„ê²Œì´ì…˜ */
        .year-nav {
            position: fixed;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.5rem;
            max-height: 60vh;
            overflow-y: auto;
            z-index: 40;
        }
        
        .year-nav-item {
            display: block;
            padding: 0.25rem 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.75rem;
            border-radius: 0.25rem;
            transition: all 0.2s ease;
        }
        
        .year-nav-item:hover {
            background: var(--accent-color);
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app" class="mx-auto max-w-5xl p-6 space-y-6">
        <!-- ë¡œë”© ìƒíƒœ -->
        <div id="loading" class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="loading-spinner mx-auto mb-4"></div>
                <div class="text-lg text-gray-600">ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>

        <!-- ì—ëŸ¬ ìƒíƒœ -->
        <div id="error" class="hidden flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="text-red-600 text-lg mb-2">âš ï¸ ì˜¤ë¥˜ ë°œìƒ</div>
                <div id="error-message" class="text-gray-600"></div>
            </div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <div id="content" class="hidden">
            <!-- ìŠ¤í‹°í‚¤ í—¤ë” -->
            <div class="sticky-header py-4 mb-8">
                <div class="flex items-center justify-between">
                    <div class="text-center flex-1">
                        <h1 class="text-3xl font-bold">ê³¼í•™ê¸°ìˆ  ë°œì „ì‚¬ íƒ€ì„ë¼ì¸</h1>
                        <p id="stats" class="text-sm opacity-75 mt-1"></p>
                    </div>
                    <button id="themeToggle" class="theme-toggle">
                        <span id="themeIcon">ğŸŒ™</span>
                    </button>
                </div>
            </div>

            <!-- í•„í„° ì»¨íŠ¸ë¡¤ -->
            <div class="grid grid-cols-1 gap-3 sm:grid-cols-4 mb-6">
                <input
                    id="searchInput"
                    type="text"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="ê²€ìƒ‰ (ì œëª©, ìš”ì•½, ë¶„ì•¼, ê¸°ê´€)"
                />
                <input
                    id="minYearInput"
                    type="number"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="ìµœì†Œ ì—°ë„ (ì˜ˆ: -500, 1800)"
                />
                <input
                    id="maxYearInput"
                    type="number"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                    placeholder="ìµœëŒ€ ì—°ë„ (ì˜ˆ: 2025)"
                />
                <select
                    id="fieldSelect"
                    class="rounded-xl border border-gray-300 p-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                >
                    <option value="">ì „ì²´ ë¶„ì•¼</option>
                </select>
            </div>

            <!-- ê²°ê³¼ ì¹´ìš´íŠ¸ -->
            <div id="resultCount" class="text-center text-gray-600 mb-6"></div>

            <!-- ì—°ë„ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div id="yearNav" class="year-nav hidden"></div>
            
            <!-- íƒ€ì„ë¼ì¸ -->
            <div class="relative ml-24">
                <!-- ì„¸ë¡œì„  -->
                <div class="absolute left-8 top-0 h-full w-0.5 timeline-line" aria-hidden="true"></div>
                
                <ol id="timeline" class="space-y-6"></ol>
            </div>

            <!-- í‘¸í„° -->
            <div class="text-center text-sm text-gray-500 pt-8">
                ë°ì´í„° ì¶œì²˜: 
                <a href="https://www.historicaltechtree.com/" class="text-indigo-600 hover:underline" target="_blank" rel="noreferrer">
                    Historical Tech Tree
                </a> â€¢ 
                <span id="generatedDate"></span>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let timelineData = null;
        let filteredItems = [];

        // DOM ìš”ì†Œë“¤
        const elements = {
            loading: document.getElementById('loading'),
            error: document.getElementById('error'),
            errorMessage: document.getElementById('error-message'),
            content: document.getElementById('content'),
            stats: document.getElementById('stats'),
            searchInput: document.getElementById('searchInput'),
            minYearInput: document.getElementById('minYearInput'),
            maxYearInput: document.getElementById('maxYearInput'),
            fieldSelect: document.getElementById('fieldSelect'),
            resultCount: document.getElementById('resultCount'),
            timeline: document.getElementById('timeline'),
            generatedDate: document.getElementById('generatedDate'),
            themeToggle: document.getElementById('themeToggle'),
            themeIcon: document.getElementById('themeIcon'),
            yearNav: document.getElementById('yearNav')
        };
        
        // ë‹¤í¬ëª¨ë“œ ê´€ë¦¬
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            elements.themeIcon.textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        }
        
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            elements.themeIcon.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // ë¶„ì•¼ëª… í•œêµ­ì–´ ë²ˆì—­ ë§¤í•‘
        const fieldTranslations = {
            'Agriculture': 'ë†ì—…(Agriculture)',
            'Astronomy': 'ì²œë¬¸í•™(Astronomy)',
            'Biology': 'ìƒë¬¼í•™(Biology)',
            'Chemistry': 'í™”í•™(Chemistry)',
            'Communication': 'í†µì‹ (Communication)',
            'Computing': 'ì»´í“¨íŒ…(Computing)',
            'Construction': 'ê±´ì„¤(Construction)',
            'Diving': 'ì ìˆ˜(Diving)',
            'Electricity': 'ì „ê¸°(Electricity)',
            'Electronics': 'ì „ìê³µí•™(Electronics)',
            'Energy': 'ì—ë„ˆì§€(Energy)',
            'Finance': 'ê¸ˆìœµ(Finance)',
            'Flying': 'í•­ê³µ(Flying)',
            'Food': 'ì‹í’ˆ(Food)',
            'Geography': 'ì§€ë¦¬í•™(Geography)',
            'Hydraulics': 'ìˆ˜ë ¥í•™(Hydraulics)',
            'Lighting': 'ì¡°ëª…(Lighting)',
            'Manufacturing': 'ì œì¡°ì—…(Manufacturing)',
            'Mathematics': 'ìˆ˜í•™(Mathematics)',
            'Measurement': 'ì¸¡ì •(Measurement)',
            'Medicine': 'ì˜í•™(Medicine)',
            'Metallurgy': 'ê¸ˆì†í•™(Metallurgy)',
            'Meteorology': 'ê¸°ìƒí•™(Meteorology)',
            'Mining': 'ê´‘ì—…(Mining)',
            'Misc': 'ê¸°íƒ€(Misc)',
            'Music': 'ìŒì•…(Music)',
            'Optics': 'ê´‘í•™(Optics)',
            'Physics': 'ë¬¼ë¦¬í•™(Physics)',
            'Recreation': 'ì˜¤ë½(Recreation)',
            'Safety': 'ì•ˆì „(Safety)',
            'Sailing': 'í•­í•´(Sailing)',
            'Sanitation': 'ìœ„ìƒ(Sanitation)',
            'Security': 'ë³´ì•ˆ(Security)',
            'Space': 'ìš°ì£¼(Space)',
            'Textiles': 'ì„¬ìœ (Textiles)',
            'Timekeeping': 'ì‹œê°„ì¸¡ì •(Timekeeping)',
            'Transportation': 'êµí†µ(Transportation)',
            'Visual media': 'ì‹œê°ë§¤ì²´(Visual media)',
            'Weaponry': 'ë¬´ê¸°(Weaponry)'
        };

        // ê¸°ìˆ ë³„ ì´ëª¨ì§€ ë§¤í•‘
        function getTechEmoji(title, fields) {
            const title_lower = title.toLowerCase();
            
            // ê¸°ìˆ ëª… ê¸°ë°˜ ì´ëª¨ì§€
            if (title_lower.includes('ai') || title_lower.includes('artificial intelligence')) return 'ğŸ¤–';
            if (title_lower.includes('quantum')) return 'âš›ï¸';
            if (title_lower.includes('neural') || title_lower.includes('deep learning') || title_lower.includes('machine learning')) return 'ğŸ§ ';
            if (title_lower.includes('robot')) return 'ğŸ¤–';
            if (title_lower.includes('drone') || title_lower.includes('uav')) return 'ğŸš';
            if (title_lower.includes('satellite')) return 'ğŸ›°ï¸';
            if (title_lower.includes('rocket') || title_lower.includes('space')) return 'ğŸš€';
            if (title_lower.includes('laser')) return 'ğŸ”¬';
            if (title_lower.includes('computer') || title_lower.includes('cpu') || title_lower.includes('processor')) return 'ğŸ’»';
            if (title_lower.includes('internet') || title_lower.includes('web') || title_lower.includes('network')) return 'ğŸŒ';
            if (title_lower.includes('smartphone') || title_lower.includes('mobile')) return 'ğŸ“±';
            if (title_lower.includes('electric') && title_lower.includes('car')) return 'ğŸš—';
            if (title_lower.includes('vaccine') || title_lower.includes('mrna')) return 'ğŸ’‰';
            if (title_lower.includes('gene') || title_lower.includes('crispr') || title_lower.includes('dna')) return 'ğŸ§¬';
            if (title_lower.includes('solar')) return 'â˜€ï¸';
            if (title_lower.includes('wind') && title_lower.includes('turbine')) return 'ğŸ’¨';
            if (title_lower.includes('3d print')) return 'ğŸ–¨ï¸';
            if (title_lower.includes('blockchain') || title_lower.includes('crypto')) return 'â›“ï¸';
            if (title_lower.includes('vr') || title_lower.includes('virtual reality')) return 'ğŸ¥½';
            if (title_lower.includes('ar') || title_lower.includes('augmented reality')) return 'ğŸ‘“';
            if (title_lower.includes('telescope')) return 'ğŸ”­';
            if (title_lower.includes('microscope')) return 'ğŸ”¬';
            if (title_lower.includes('x-ray') || title_lower.includes('mri') || title_lower.includes('ct scan')) return 'ğŸ¥';
            if (title_lower.includes('steam') && title_lower.includes('engine')) return 'ğŸš‚';
            if (title_lower.includes('airplane') || title_lower.includes('aircraft')) return 'âœˆï¸';
            if (title_lower.includes('submarine')) return 'ğŸš¢';
            if (title_lower.includes('wheel')) return 'âš™ï¸';
            if (title_lower.includes('fire') || title_lower.includes('flame')) return 'ğŸ”¥';
            if (title_lower.includes('lens') || title_lower.includes('optic')) return 'ğŸ”';
            if (title_lower.includes('battery') || title_lower.includes('electric')) return 'ğŸ”‹';
            if (title_lower.includes('radio') || title_lower.includes('wireless')) return 'ğŸ“»';
            if (title_lower.includes('television') || title_lower.includes('tv')) return 'ğŸ“º';
            if (title_lower.includes('camera') || title_lower.includes('photo')) return 'ğŸ“·';
            if (title_lower.includes('printing') || title_lower.includes('press')) return 'ğŸ“°';
            if (title_lower.includes('clock') || title_lower.includes('time')) return 'â°';
            if (title_lower.includes('compass')) return 'ğŸ§­';
            if (title_lower.includes('map')) return 'ğŸ—ºï¸';
            if (title_lower.includes('paper')) return 'ğŸ“„';
            if (title_lower.includes('writing') || title_lower.includes('alphabet')) return 'âœï¸';
            if (title_lower.includes('agriculture') || title_lower.includes('farming')) return 'ğŸŒ¾';
            if (title_lower.includes('medicine') || title_lower.includes('drug')) return 'ğŸ’Š';
            if (title_lower.includes('surgery') || title_lower.includes('surgical')) return 'ğŸ¥';
            if (title_lower.includes('metal') || title_lower.includes('iron') || title_lower.includes('steel')) return 'âš’ï¸';
            if (title_lower.includes('glass')) return 'ğŸªŸ';
            if (title_lower.includes('concrete') || title_lower.includes('cement')) return 'ğŸ—ï¸';
            if (title_lower.includes('bridge')) return 'ğŸŒ‰';
            if (title_lower.includes('dam')) return 'ğŸ”ï¸';
            if (title_lower.includes('canal')) return 'ğŸš¢';
            if (title_lower.includes('road') || title_lower.includes('highway')) return 'ğŸ›£ï¸';
            if (title_lower.includes('train') || title_lower.includes('railway')) return 'ğŸš†';
            if (title_lower.includes('ship') || title_lower.includes('boat')) return 'â›µ';
            if (title_lower.includes('weapon') || title_lower.includes('gun') || title_lower.includes('sword')) return 'âš”ï¸';
            if (title_lower.includes('bomb') || title_lower.includes('explosive')) return 'ğŸ’£';
            if (title_lower.includes('music') || title_lower.includes('instrument')) return 'ğŸµ';
            if (title_lower.includes('textile') || title_lower.includes('fabric') || title_lower.includes('cloth')) return 'ğŸ§µ';
            if (title_lower.includes('food') || title_lower.includes('cooking')) return 'ğŸ³';
            if (title_lower.includes('refrigerat')) return 'â„ï¸';
            if (title_lower.includes('light') || title_lower.includes('lamp') || title_lower.includes('bulb')) return 'ğŸ’¡';
            if (title_lower.includes('candle')) return 'ğŸ•¯ï¸';
            
            // ë¶„ì•¼ ê¸°ë°˜ ì´ëª¨ì§€
            if (fields && fields.length > 0) {
                const field = fields[0].toLowerCase();
                if (field.includes('computing')) return 'ğŸ’»';
                if (field.includes('medicine')) return 'âš•ï¸';
                if (field.includes('transportation')) return 'ğŸš—';
                if (field.includes('communication')) return 'ğŸ“¡';
                if (field.includes('energy')) return 'âš¡';
                if (field.includes('space')) return 'ğŸš€';
                if (field.includes('biology')) return 'ğŸ§¬';
                if (field.includes('chemistry')) return 'âš—ï¸';
                if (field.includes('physics')) return 'âš›ï¸';
                if (field.includes('mathematics')) return 'ğŸ“';
                if (field.includes('astronomy')) return 'ğŸŒŸ';
                if (field.includes('electronics')) return 'ğŸ”Œ';
                if (field.includes('optics')) return 'ğŸ”';
                if (field.includes('metallurgy')) return 'âš’ï¸';
                if (field.includes('agriculture')) return 'ğŸŒ¾';
                if (field.includes('construction')) return 'ğŸ—ï¸';
                if (field.includes('weaponry')) return 'âš”ï¸';
                if (field.includes('music')) return 'ğŸµ';
                if (field.includes('textiles')) return 'ğŸ§µ';
                if (field.includes('food')) return 'ğŸ³';
                if (field.includes('safety')) return 'ğŸ›¡ï¸';
                if (field.includes('security')) return 'ğŸ”’';
                if (field.includes('recreation')) return 'ğŸ®';
                if (field.includes('visual media')) return 'ğŸ¬';
                if (field.includes('timekeeping')) return 'â°';
                if (field.includes('measurement')) return 'ğŸ“';
                if (field.includes('lighting')) return 'ğŸ’¡';
                if (field.includes('hydraulics')) return 'ğŸ’§';
                if (field.includes('diving')) return 'ğŸ¤¿';
                if (field.includes('sailing')) return 'â›µ';
                if (field.includes('flying')) return 'âœˆï¸';
                if (field.includes('mining')) return 'â›ï¸';
                if (field.includes('manufacturing')) return 'ğŸ­';
                if (field.includes('sanitation')) return 'ğŸ§½';
                if (field.includes('meteorology')) return 'ğŸŒ¤ï¸';
                if (field.includes('geography')) return 'ğŸ—ºï¸';
                if (field.includes('finance')) return 'ğŸ’°';
            }
            
            return 'ğŸ”¬'; // ê¸°ë³¸ ê³¼í•™ ì´ëª¨ì§€
        }

        // ê¸°ìˆ  ì œëª© ë²ˆì—­ ë§¤í•‘
        const titleTranslations = {
            '5G cellular network': '5G ì…€ë£°ëŸ¬ ë„¤íŠ¸ì›Œí¬(5G cellular network)',
            'Quantum computer': 'ì–‘ìì»´í“¨í„°(Quantum computer)',
            'Large language model': 'ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸(Large language model)',
            'LLM chatbot': 'LLM ì±—ë´‡(LLM chatbot)',
            'Reflective LLM': 'ë°˜ì„±ì  LLM(Reflective LLM)',
            'mRNA vaccine': 'mRNA ë°±ì‹ (mRNA vaccine)',
            'Robotaxi': 'ë¡œë³´íƒì‹œ(Robotaxi)',
            'Cultured meat': 'ë°°ì–‘ìœ¡(Cultured meat)',
            'Transformer (machine learning)': 'íŠ¸ëœìŠ¤í¬ë¨¸(Transformer)',
            'Advanced driver-assistance system': 'ì²¨ë‹¨ ìš´ì „ì ë³´ì¡° ì‹œìŠ¤í…œ(ADAS)',
            'Automated insulin delivery system': 'ìë™ ì¸ìŠë¦° ì „ë‹¬ ì‹œìŠ¤í…œ(Automated insulin delivery system)',
            'Text-to-image model': 'í…ìŠ¤íŠ¸-ì´ë¯¸ì§€ ëª¨ë¸(Text-to-image model)',
            'Electromagnetic catapult': 'ì „ìê¸° íˆ¬ì„ê¸°(Electromagnetic catapult)',
            'In-ovo sexing': 'ë‚œë‚´ ì„±ê°ë³„(In-ovo sexing)',
            'Neural network': 'ì‹ ê²½ë§(Neural network)',
            'Deep learning': 'ë”¥ëŸ¬ë‹(Deep learning)',
            'Machine learning': 'ë¨¸ì‹ ëŸ¬ë‹(Machine learning)',
            'Artificial intelligence': 'ì¸ê³µì§€ëŠ¥(Artificial intelligence)',
            'Virtual reality': 'ê°€ìƒí˜„ì‹¤(Virtual reality)',
            'Augmented reality': 'ì¦ê°•í˜„ì‹¤(Augmented reality)',
            'Internet of Things': 'ì‚¬ë¬¼ì¸í„°ë„·(IoT)',
            'Blockchain': 'ë¸”ë¡ì²´ì¸(Blockchain)',
            'Cryptocurrency': 'ì•”í˜¸í™”í(Cryptocurrency)',
            'CRISPR': 'CRISPR ìœ ì „ìê°€ìœ„(CRISPR)',
            'Gene therapy': 'ìœ ì „ì ì¹˜ë£Œ(Gene therapy)',
            'Smartphone': 'ìŠ¤ë§ˆíŠ¸í°(Smartphone)',
            'Tablet computer': 'íƒœë¸”ë¦¿ ì»´í“¨í„°(Tablet computer)',
            'GPS': 'GPS ìœ„ì„±í•­ë²•ì‹œìŠ¤í…œ(GPS)',
            'WiFi': 'ì™€ì´íŒŒì´(WiFi)',
            'Bluetooth': 'ë¸”ë£¨íˆ¬ìŠ¤(Bluetooth)',
            'USB': 'USB ë²”ìš©ì§ë ¬ë²„ìŠ¤(USB)',
            'LED': 'LED ë°œê´‘ë‹¤ì´ì˜¤ë“œ(LED)',
            'OLED': 'OLED ìœ ê¸°ë°œê´‘ë‹¤ì´ì˜¤ë“œ(OLED)',
            'Solar panel': 'íƒœì–‘ê´‘ íŒ¨ë„(Solar panel)',
            'Wind turbine': 'í’ë ¥ í„°ë¹ˆ(Wind turbine)',
            'Electric vehicle': 'ì „ê¸°ìë™ì°¨(Electric vehicle)',
            'Hybrid vehicle': 'í•˜ì´ë¸Œë¦¬ë“œ ìë™ì°¨(Hybrid vehicle)',
            'Drone': 'ë“œë¡ (Drone)',
            '3D printing': '3D í”„ë¦°íŒ…(3D printing)',
            'Laser': 'ë ˆì´ì €(Laser)',
            'Fiber optic': 'ê´‘ì„¬ìœ (Fiber optic)',
            'Satellite': 'ì¸ê³µìœ„ì„±(Satellite)',
            'Radar': 'ë ˆì´ë”(Radar)',
            'Sonar': 'ì†Œë‚˜(Sonar)',
            'MRI': 'MRI ìê¸°ê³µëª…ì˜ìƒ(MRI)',
            'CT scan': 'CT ì»´í“¨í„°ë‹¨ì¸µì´¬ì˜(CT scan)',
            'Ultrasound': 'ì´ˆìŒíŒŒ(Ultrasound)',
            'X-ray': 'Xì„ (X-ray)',
            'Telescope': 'ë§ì›ê²½(Telescope)',
            'Microscope': 'í˜„ë¯¸ê²½(Microscope)',
            'Robot': 'ë¡œë´‡(Robot)',
            'Computer': 'ì»´í“¨í„°(Computer)',
            'Internet': 'ì¸í„°ë„·(Internet)',
            'Email': 'ì´ë©”ì¼(Email)',
            'Social media': 'ì†Œì…œë¯¸ë””ì–´(Social media)',
            'Cloud computing': 'í´ë¼ìš°ë“œ ì»´í“¨íŒ…(Cloud computing)',
            'Big data': 'ë¹…ë°ì´í„°(Big data)',
            'Biometric': 'ìƒì²´ì¸ì‹(Biometric)',
            'Nanotechnology': 'ë‚˜ë…¸ê¸°ìˆ (Nanotechnology)',
            'Biotechnology': 'ìƒëª…ê³µí•™(Biotechnology)'
        };

        // ë¶„ì•¼ëª… ë²ˆì—­ í•¨ìˆ˜
        function translateField(field) {
            return fieldTranslations[field] || field;
        }

        // ì œëª© ë²ˆì—­ í•¨ìˆ˜
        function translateTitle(title) {
            return titleTranslations[title] || title;
        }

        // ìš”ì•½ ì •ë¦¬ í•¨ìˆ˜ (ì¤‘ë³µë˜ëŠ” ë¶„ì•¼ëª… ì œê±° ë° ì„¤ëª… ê°œì„ )
        function translateSummary(summary, originalTitle, fields) {
            if (!summary) {
                // ì„¤ëª…ì´ ì—†ëŠ” ê²½ìš° ê¸°ë³¸ ì„¤ëª… ìƒì„±
                return generateDefaultDescription(originalTitle, fields);
            }
            
            let cleanedSummary = summary;
            
            // ì§§ì€ ì„¤ëª…ì´ê±°ë‚˜ ë¶„ì•¼ëª…ë§Œ ìˆëŠ” ê²½ìš° ì²˜ë¦¬ (50ì ì´í•˜ë¡œ ê¸°ì¤€ í™•ëŒ€)
            if (cleanedSummary.length < 50) {
                // ë¶„ì•¼ëª…ë§Œ ìˆëŠ”ì§€ í™•ì¸
                const isOnlyFieldName = Object.keys(fieldTranslations).some(field => 
                    cleanedSummary.trim() === field || 
                    cleanedSummary.trim().startsWith(field + ' â€¢') ||
                    cleanedSummary.trim().startsWith(field + ',')
                );
                
                // ìœ„ì¹˜ ì •ë³´ë§Œ ìˆëŠ”ì§€ í™•ì¸
                const hasOnlyLocationInfo = cleanedSummary.includes('ìœ„ì¹˜:') && 
                    cleanedSummary.replace(/[^ê°€-í£a-zA-Z]/g, '').length < 20;
                
                if (isOnlyFieldName || hasOnlyLocationInfo) {
                    return generateDefaultDescription(originalTitle, fields);
                }
            }
            
            // ë¶„ì•¼ëª… ì œê±° (íƒœê·¸ì— ì´ë¯¸ í‘œì‹œë˜ë¯€ë¡œ ì¤‘ë³µ ì œê±°)
            Object.keys(fieldTranslations).forEach(englishField => {
                // ë¶„ì•¼ëª…ê³¼ ê·¸ ë’¤ì˜ êµ¬ë¶„ì(â€¢ ë˜ëŠ” ,) ì œê±°
                const escapedField = englishField.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                cleanedSummary = cleanedSummary.replace(new RegExp(`${escapedField}\\s*[â€¢,]?\\s*`, 'g'), '');
            });
            
            // ìœ„ì¹˜ ì •ë³´ ì œê±° (ë³„ë„ í‘œì‹œë˜ë¯€ë¡œ)
            cleanedSummary = cleanedSummary.replace(/\s*â€¢\s*ìœ„ì¹˜:[^â€¢]*$/g, '');
            cleanedSummary = cleanedSummary.replace(/ìœ„ì¹˜:[^â€¢]*â€¢?\s*/g, '');
            
            // ê°œë°œì‚¬ ì •ë³´ ì œê±° (ë³„ë„ í‘œì‹œë˜ë¯€ë¡œ)
            cleanedSummary = cleanedSummary.replace(/\s*â€¢\s*ê°œë°œ:[^â€¢]*$/g, '');
            cleanedSummary = cleanedSummary.replace(/ê°œë°œ:[^â€¢]*â€¢?\s*/g, '');
            
            // ê¸°ìˆ ëª… ë²ˆì—­ ì ìš©
            Object.entries(titleTranslations).forEach(([englishTerm, koreanTranslation]) => {
                const koreanOnly = koreanTranslation.split('(')[0].trim();
                if (cleanedSummary.includes(englishTerm)) {
                    cleanedSummary = cleanedSummary.replace(new RegExp(englishTerm, 'g'), koreanOnly);
                }
            });
            
            // ì—°ì†ëœ êµ¬ë¶„ìë‚˜ ê³µë°± ì •ë¦¬
            cleanedSummary = cleanedSummary.replace(/\s*[â€¢,]\s*[â€¢,]\s*/g, ' â€¢ ');
            cleanedSummary = cleanedSummary.replace(/^\s*[â€¢,]\s*/, ''); // ì‹œì‘ ë¶€ë¶„ êµ¬ë¶„ì ì œê±°
            cleanedSummary = cleanedSummary.replace(/\s*[â€¢,]\s*$/, ''); // ë ë¶€ë¶„ êµ¬ë¶„ì ì œê±°
            cleanedSummary = cleanedSummary.replace(/\s+/g, ' ').trim(); // ì—¬ëŸ¬ ê³µë°±ì„ í•˜ë‚˜ë¡œ
            
            // ì •ë¦¬ í›„ì—ë„ ë„ˆë¬´ ì§§ìœ¼ë©´ ê¸°ë³¸ ì„¤ëª… ìƒì„±
            if (cleanedSummary.length < 10) {
                return generateDefaultDescription(originalTitle, fields);
            }
            
            return cleanedSummary;
        }
        
        // ê¸°ë³¸ ì„¤ëª… ìƒì„± í•¨ìˆ˜ (ì´ˆë“±í•™ìƒë„ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…)
        function generateDefaultDescription(title, fields) {
            const fieldName = fields && fields.length > 0 ? translateField(fields[0]) : 'ê³¼í•™ê¸°ìˆ ';
            const translatedTitle = translateTitle(title);
            const title_lower = title.toLowerCase();
            
            // ê¸°ìˆ ëª…ì—ì„œ í•œêµ­ì–´ ë¶€ë¶„ë§Œ ì¶”ì¶œ
            const koreanTitle = translatedTitle.includes('(') ? 
                translatedTitle.split('(')[0].trim() : translatedTitle;
            
            // ê¸°ìˆ ë³„ ë§ì¶¤ ì„¤ëª… ìƒì„±
            if (title_lower.includes('ai') || title_lower.includes('artificial intelligence')) {
                return 'ì‚¬ëŒì²˜ëŸ¼ ìƒê°í•˜ê³  í•™ìŠµí•  ìˆ˜ ìˆëŠ” ì»´í“¨í„° ê¸°ìˆ ì…ë‹ˆë‹¤. ì§ˆë¬¸ì— ë‹µí•˜ê±°ë‚˜ ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ë“± ë‹¤ì–‘í•œ ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('quantum')) {
                return 'ì•„ì£¼ ì‘ì€ ì…ìì˜ íŠ¹ë³„í•œ ì„±ì§ˆì„ ì´ìš©í•œ ê¸°ìˆ ì…ë‹ˆë‹¤. ê¸°ì¡´ ì»´í“¨í„°ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('robot')) {
                return 'ì‚¬ëŒ ëŒ€ì‹  ì¼ì„ í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ì…ë‹ˆë‹¤. ì²­ì†Œ, ìš”ë¦¬, ìš´ì „ ë“± ë‹¤ì–‘í•œ ì¼ì„ ë„ì™€ì¤„ ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('drone')) {
                return 'ì‚¬ëŒì´ íƒ€ì§€ ì•Šê³  ì›ê²©ìœ¼ë¡œ ì¡°ì¢…í•˜ëŠ” ë¹„í–‰ê¸°ì…ë‹ˆë‹¤. ë°°ë‹¬, ì´¬ì˜, êµ¬ì¡° ì‘ì—… ë“±ì— ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('satellite')) {
                return 'ì§€êµ¬ ì£¼ìœ„ë¥¼ ëŒë©´ì„œ í†µì‹ ì´ë‚˜ ë‚ ì”¨ ê´€ì¸¡ì„ í•˜ëŠ” ì¸ê³µ ë¬¼ì²´ì…ë‹ˆë‹¤. GPSë‚˜ ì¸í„°ë„· ì—°ê²°ì— ë„ì›€ì„ ì¤˜ìš”.';
            }
            if (title_lower.includes('laser')) {
                return 'ë§¤ìš° ê°•í•˜ê³  ì •í™•í•œ ë¹›ì„ ë§Œë“œëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ìˆ˜ìˆ , ì¸¡ì •, ì œì¡° ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('computer')) {
                return 'ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê³„ì‚°í•˜ëŠ” ì „ì ê¸°ê³„ì…ë‹ˆë‹¤. ê²Œì„, ê³µë¶€, ì¼ ë“± ìš°ë¦¬ ìƒí™œì˜ ë§ì€ ë¶€ë¶„ì—ì„œ ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('internet')) {
                return 'ì „ ì„¸ê³„ ì»´í“¨í„°ë“¤ì´ ì—°ê²°ëœ ê±°ëŒ€í•œ ë„¤íŠ¸ì›Œí¬ì…ë‹ˆë‹¤. ì •ë³´ ê²€ìƒ‰, ì†Œí†µ, ì‡¼í•‘ ë“±ì„ í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('smartphone')) {
                return 'ì „í™”, ì¸í„°ë„·, ì¹´ë©”ë¼ ë“± ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í•©ì³ì§„ ì‘ì€ ì»´í“¨í„°ì…ë‹ˆë‹¤. ì† ì•ˆì—ì„œ ë§ì€ ì¼ì„ í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('electric') && title_lower.includes('car')) {
                return 'ê¸°ë¦„ ëŒ€ì‹  ì „ê¸°ë¡œ ì›€ì§ì´ëŠ” ìë™ì°¨ì…ë‹ˆë‹¤. ê³µê¸°ë¥¼ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ê³  ì†ŒìŒë„ ì ì–´ìš”.';
            }
            if (title_lower.includes('vaccine')) {
                return 'ë³‘ì— ê±¸ë¦¬ì§€ ì•Šë„ë¡ ë¯¸ë¦¬ ì˜ˆë°©í•˜ëŠ” ì•½ì…ë‹ˆë‹¤. ì£¼ì‚¬ë¡œ ë§ì•„ì„œ ìš°ë¦¬ ëª¸ì´ ë³‘ê· ê³¼ ì‹¸ìš¸ ìˆ˜ ìˆê²Œ ë„ì™€ì¤˜ìš”.';
            }
            if (title_lower.includes('gene') || title_lower.includes('dna')) {
                return 'ìƒëª…ì²´ì˜ ìœ ì „ ì •ë³´ë¥¼ ì—°êµ¬í•˜ê³  ìˆ˜ì •í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì§ˆë³‘ ì¹˜ë£Œë‚˜ ë” ì¢‹ì€ ì‘ë¬¼ì„ ë§Œë“œëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('solar')) {
                return 'íƒœì–‘ì˜ ë¹›ì„ ì „ê¸°ë¡œ ë°”ê¾¸ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ê¹¨ë—í•œ ì—ë„ˆì§€ë¥¼ ë§Œë“¤ì–´ì„œ í™˜ê²½ì„ ë³´í˜¸í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('3d print')) {
                return 'ì»´í“¨í„°ë¡œ ì„¤ê³„í•œ ë¬¼ê±´ì„ ì‹¤ì œë¡œ ë§Œë“¤ì–´ë‚´ëŠ” ê¸°ê³„ì…ë‹ˆë‹¤. í”Œë¼ìŠ¤í‹±ì´ë‚˜ ê¸ˆì†ì„ ì¸µì¸µì´ ìŒ“ì•„ì„œ ë§Œë“¤ì–´ìš”.';
            }
            if (title_lower.includes('telescope')) {
                return 'ë©€ë¦¬ ìˆëŠ” ë³„ì´ë‚˜ í–‰ì„±ì„ í¬ê²Œ ë³´ì—¬ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ìš°ì£¼ì˜ ì‹ ë¹„ë¥¼ íƒí—˜í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('microscope')) {
                return 'ì•„ì£¼ ì‘ì€ ê²ƒë“¤ì„ í¬ê²Œ ë³´ì—¬ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì„¸í¬ë‚˜ ì„¸ê·  ê°™ì€ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ” ê²ƒë“¤ì„ ê´€ì°°í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('x-ray')) {
                return 'ëª¸ ì†ì„ ë“¤ì—¬ë‹¤ë³¼ ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ ë¹›ì…ë‹ˆë‹¤. ë¼ˆê°€ ë¶€ëŸ¬ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê±°ë‚˜ ë³‘ì„ ì°¾ëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('airplane')) {
                return 'í•˜ëŠ˜ì„ ë‚  ìˆ˜ ìˆëŠ” êµí†µìˆ˜ë‹¨ì…ë‹ˆë‹¤. ë¨¼ ê³³ê¹Œì§€ ë¹ ë¥´ê²Œ ì´ë™í•  ìˆ˜ ìˆê²Œ í•´ì¤˜ìš”.';
            }
            if (title_lower.includes('wheel')) {
                return 'ë‘¥ê·¼ ëª¨ì–‘ìœ¼ë¡œ êµ´ëŸ¬ê°€ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ë¬´ê±°ìš´ ë¬¼ê±´ì„ ì‰½ê²Œ ì˜®ê¸°ê±°ë‚˜ ë¹ ë¥´ê²Œ ì´ë™í•  ìˆ˜ ìˆê²Œ í•´ì¤˜ìš”.';
            }
            if (title_lower.includes('fire')) {
                return 'ì—´ê³¼ ë¹›ì„ ë§Œë“œëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ìŒì‹ì„ ìš”ë¦¬í•˜ê³ , ì¶”ìœ„ë¥¼ ë§‰ê³ , ë„êµ¬ë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('printing')) {
                return 'ê¸€ìë‚˜ ê·¸ë¦¼ì„ ì¢…ì´ì— ì°ì–´ë‚´ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì±…ì´ë‚˜ ì‹ ë¬¸ì„ ë§ì´ ë§Œë“¤ì–´ì„œ ì§€ì‹ì„ ë„ë¦¬ í¼ëœ¨ë¦´ ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('clock')) {
                return 'ì‹œê°„ì„ ì •í™•í•˜ê²Œ ì•Œë ¤ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì•½ì† ì‹œê°„ì„ ì§€í‚¤ê³  ì¼ì •ì„ ê´€ë¦¬í•˜ëŠ” ë° ë„ì›€ì„ ì¤˜ìš”.';
            }
            if (title_lower.includes('compass')) {
                return 'ë°©í–¥ì„ ì•Œë ¤ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ê¸¸ì„ ìƒì§€ ì•Šê³  ëª©ì ì§€ë¥¼ ì°¾ì•„ê°ˆ ìˆ˜ ìˆê²Œ ë„ì™€ì¤˜ìš”.';
            }
            if (title_lower.includes('paper')) {
                return 'ê¸€ì„ ì“°ê³  ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆëŠ” ì–‡ì€ ì¬ë£Œì…ë‹ˆë‹¤. ì§€ì‹ê³¼ ì •ë³´ë¥¼ ê¸°ë¡í•˜ê³  ì „ë‹¬í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('agriculture') || title_lower.includes('farming')) {
                return 'ì‹ë¬¼ì„ ê¸°ë¥´ê³  ë™ë¬¼ì„ í‚¤ì›Œì„œ ìŒì‹ì„ ë§Œë“œëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‚¬ëŒë“¤ì´ ë¨¹ì„ ìˆ˜ ìˆëŠ” ê³¡ì‹ê³¼ ì±„ì†Œë¥¼ ìƒì‚°í•´ìš”.';
            }
            if (title_lower.includes('medicine') || title_lower.includes('drug')) {
                return 'ì•„í”ˆ ì‚¬ëŒì„ ì¹˜ë£Œí•˜ëŠ” ì•½ì´ë‚˜ ë°©ë²•ì…ë‹ˆë‹¤. ë³‘ì„ ë‚«ê²Œ í•˜ê³  ê±´ê°•ì„ ì§€í‚¤ëŠ” ë° ë„ì›€ì„ ì¤˜ìš”.';
            }
            if (title_lower.includes('metal') || title_lower.includes('iron')) {
                return 'ë‹¨ë‹¨í•˜ê³  ìœ ìš©í•œ ì¬ë£Œë¥¼ ë§Œë“œëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë„êµ¬, ê±´ë¬¼, ê¸°ê³„ ë“±ì„ ë§Œë“œëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('bridge')) {
                return 'ê°•ì´ë‚˜ ê³„ê³¡ì„ ê±´ë„ ìˆ˜ ìˆê²Œ ë§Œë“  êµ¬ì¡°ë¬¼ì…ë‹ˆë‹¤. ì‚¬ëŒê³¼ ì°¨ê°€ ì•ˆì „í•˜ê²Œ ì´ë™í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤˜ìš”.';
            }
            if (title_lower.includes('train')) {
                return 'ì² ë¡œ ìœ„ë¥¼ ë‹¬ë¦¬ëŠ” êµí†µìˆ˜ë‹¨ì…ë‹ˆë‹¤. ë§ì€ ì‚¬ëŒê³¼ ë¬¼ê±´ì„ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ìš´ë°˜í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('ship') || title_lower.includes('boat')) {
                return 'ë¬¼ ìœ„ì— ë– ì„œ ì´ë™í•˜ëŠ” êµí†µìˆ˜ë‹¨ì…ë‹ˆë‹¤. ë°”ë‹¤ë‚˜ ê°•ì„ ê±´ë„ˆê±°ë‚˜ ë¬¼ê±´ì„ ìš´ë°˜í•˜ëŠ” ë° ì‚¬ìš©ë¼ìš”.';
            }
            if (title_lower.includes('light') || title_lower.includes('lamp')) {
                return 'ì–´ë‘ ì„ ë°í˜€ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ë°¤ì—ë„ í™œë™í•  ìˆ˜ ìˆê²Œ í•˜ê³  ì•ˆì „ì„ ì§€ì¼œì¤˜ìš”.';
            }
            if (title_lower.includes('camera')) {
                return 'ìˆœê°„ì„ ì‚¬ì§„ìœ¼ë¡œ ê¸°ë¡í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì†Œì¤‘í•œ ì¶”ì–µì„ ë‚¨ê¸°ê³  ì •ë³´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”.';
            }
            if (title_lower.includes('radio')) {
                return 'ë©€ë¦¬ ìˆëŠ” ì†Œë¦¬ë¥¼ ë“¤ì„ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ìŒì•…, ë‰´ìŠ¤, ì •ë³´ë¥¼ ë¬´ì„ ìœ¼ë¡œ ì „ë‹¬í•´ì¤˜ìš”.';
            }
            if (title_lower.includes('television')) {
                return 'ë©€ë¦¬ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì„ ì˜ìƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. êµìœ¡, ì˜¤ë½, ì •ë³´ ì „ë‹¬ì— ì‚¬ìš©ë¼ìš”.';
            }
            
            // ë¶„ì•¼ë³„ ê¸°ë³¸ ì„¤ëª…
            if (fields && fields.length > 0) {
                const field = fields[0].toLowerCase();
                if (field.includes('computing')) {
                    return 'ì»´í“¨í„°ì™€ ê´€ë ¨ëœ ê¸°ìˆ ì…ë‹ˆë‹¤. ê³„ì‚°ì„ ë¹ ë¥´ê²Œ í•˜ê³  ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ë„ì›€ì„ ì¤˜ìš”.';
                }
                if (field.includes('medicine')) {
                    return 'ì‚¬ëŒì˜ ê±´ê°•ì„ ì§€í‚¤ê³  ë³‘ì„ ì¹˜ë£Œí•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë” ì˜¤ë˜ ê±´ê°•í•˜ê²Œ ì‚´ ìˆ˜ ìˆê²Œ ë„ì™€ì¤˜ìš”.';
                }
                if (field.includes('transportation')) {
                    return 'ì‚¬ëŒê³¼ ë¬¼ê±´ì„ í•œ ê³³ì—ì„œ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë” ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ì´ë™í•  ìˆ˜ ìˆê²Œ í•´ì¤˜ìš”.';
                }
                if (field.includes('communication')) {
                    return 'ë©€ë¦¬ ìˆëŠ” ì‚¬ëŒê³¼ ëŒ€í™”í•˜ê±°ë‚˜ ì •ë³´ë¥¼ ì£¼ê³ ë°›ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì„¸ìƒì„ ë” ê°€ê¹ê²Œ ë§Œë“¤ì–´ì¤˜ìš”.';
                }
                if (field.includes('energy')) {
                    return 'ì „ê¸°ë‚˜ ì—´ ê°™ì€ í˜ì„ ë§Œë“¤ê³  ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ìš°ë¦¬ ìƒí™œì— í•„ìš”í•œ ì—ë„ˆì§€ë¥¼ ê³µê¸‰í•´ì¤˜ìš”.';
                }
                if (field.includes('space')) {
                    return 'ìš°ì£¼ë¥¼ íƒí—˜í•˜ê³  ì—°êµ¬í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì§€êµ¬ ë°–ì˜ ì‹ ë¹„í•œ ì„¸ê³„ë¥¼ ì•Œì•„ê°€ëŠ” ë° ë„ì›€ì„ ì¤˜ìš”.';
                }
                if (field.includes('agriculture')) {
                    return 'ë†ì‚¬ë¥¼ ë” ì˜ ì§“ê³  ìŒì‹ì„ ë” ë§ì´ ìƒì‚°í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‚¬ëŒë“¤ì´ ë°°ê³ í”„ì§€ ì•Šê²Œ ë„ì™€ì¤˜ìš”.';
                }
                if (field.includes('construction')) {
                    return 'ì§‘ì´ë‚˜ ê±´ë¬¼ì„ ì§“ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‚¬ëŒë“¤ì´ ì•ˆì „í•˜ê³  í¸ì•ˆí•˜ê²Œ ì‚´ ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë§Œë“¤ì–´ì¤˜ìš”.';
                }
                if (field.includes('safety')) {
                    return 'ìœ„í—˜ìœ¼ë¡œë¶€í„° ì‚¬ëŒë“¤ì„ ë³´í˜¸í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‚¬ê³ ë¥¼ ì˜ˆë°©í•˜ê³  ì•ˆì „ì„ ì§€ì¼œì¤˜ìš”.';
                }
                if (field.includes('education') || field.includes('learning')) {
                    return 'ê³µë¶€í•˜ê³  ë°°ìš°ëŠ” ê²ƒì„ ë„ì™€ì£¼ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë” ì‰½ê³  ì¬ë¯¸ìˆê²Œ ì§€ì‹ì„ ì–»ì„ ìˆ˜ ìˆê²Œ í•´ì¤˜ìš”.';
                }
            }
            
            return `${fieldName} ë¶„ì•¼ì˜ ì¤‘ìš”í•œ ë°œëª…í’ˆì…ë‹ˆë‹¤. ìš°ë¦¬ ìƒí™œì„ ë” í¸ë¦¬í•˜ê³  ì•ˆì „í•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ìˆ ì´ì—ìš”.`;
        }

        // ì—°ë„ ë¼ë²¨ í¬ë§·íŒ…
        function formatYearLabel(year, yearLabel) {
            if (yearLabel) return yearLabel;
            if (typeof year === 'number') {
                return year < 0 ? `${Math.abs(year)} BCE` : `${year}`;
            }
            return '';
        }

        // íƒ€ì„ë¼ì¸ ì•„ì´í…œ ë Œë”ë§
        function renderTimelineItem(item, isLast, previousYear) {
            const dateLabel = formatYearLabel(item.year, item.yearLabel);
            let decadeMarker = '';
            
            // ì—°ë„ë³„ êµ¬ë¶„ì„  (10ë…„ ë‹¨ìœ„)
            if (previousYear && Math.floor(item.year / 10) !== Math.floor(previousYear / 10)) {
                const decade = Math.floor(item.year / 10) * 10;
                decadeMarker = `
                    <div class="decade-marker">
                        <div class="decade-label">${decade}ë…„ëŒ€</div>
                    </div>
                `;
            }
            
            return `
                ${decadeMarker}
                <li class="relative min-h-[72px] fade-in-up" data-year="${item.year}">
                    <!-- ë‚ ì§œ ì»¬ëŸ¼ -->
                    <div class="absolute -left-24 top-1.5 w-20 text-right" style="color: var(--text-secondary)">
                        <span class="whitespace-nowrap text-sm font-medium">${dateLabel}</span>
                    </div>

                    <!-- íƒ€ì„ë¼ì¸ ì  -->
                    <div class="absolute left-7 top-2">
                        <div class="h-6 w-6 rounded-full timeline-dot flex items-center justify-center" style="background-color: var(--accent-color)">
                            <span class="text-xs text-white">âœ“</span>
                        </div>
                    </div>

                    <!-- ì¹´ë“œ -->
                    <div class="ml-12">
                        <div class="rounded-2xl tech-card p-5 shadow-sm card-hover transition-all duration-300">
                            <div class="flex items-start gap-3">
                                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-100 text-xl">
                                    ${getTechEmoji(item.title, item.fields)}
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between gap-3">
                                        <h3 class="text-lg font-bold leading-6 mb-1" style="color: var(--text-primary)">
                                            ${translateTitle(item.title)}
                                        </h3>
                                        ${item.href ? `
                                            <a
                                                href="${item.href}"
                                                class="inline-flex items-center gap-1 text-sm hover:underline"
                                                style="color: var(--accent-color)"
                                                target="_blank"
                                                rel="noreferrer noopener"
                                            >
                                                <span>ìì„¸íˆ</span>
                                                <span>ğŸ”—</span>
                                            </a>
                                        ` : ''}
                                    </div>
                                    <p class="mt-2 text-sm leading-relaxed" style="color: var(--text-secondary)">${translateSummary(item.summary, item.title, item.fields)}</p>
                                    ${item.organizations?.length ? `
                                        <p class="mt-1 text-xs" style="color: var(--text-secondary)">
                                            ğŸ¢ ${item.organizations.join(', ')}
                                        </p>
                                    ` : ''}
                                    ${item.location ? `
                                        <p class="mt-1 text-xs" style="color: var(--text-secondary)">
                                            ğŸ“ ${item.location}
                                        </p>
                                    ` : ''}
                                    <!-- ë©”íƒ€ë°ì´í„° íƒœê·¸ -->
                                    ${(item.fields?.length || item.type) ? `
                                        <div class="mt-2 flex flex-wrap gap-1">
                                            ${item.type ? `
                                                <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium" style="background-color: var(--border-color); color: var(--text-secondary)">
                                                    ${item.type}
                                                </span>
                                            ` : ''}
                                            ${item.fields?.slice(0, 3).map(field => `
                                                <span class="inline-flex items-center rounded-full px-2 py-1 text-xs font-medium" style="background-color: var(--accent-color); color: white">
                                                    ${translateField(field)}
                                                </span>
                                            `).join('') || ''}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    </div>

                    ${isLast ? '<div class="absolute left-8 -bottom-3 h-3 w-0.5 timeline-line" aria-hidden="true"></div>' : ''}
                </li>
            `;
        }

        // í•„í„°ë§ í•¨ìˆ˜
        function filterItems() {
            if (!timelineData) return;

            const searchQuery = elements.searchInput.value.trim().toLowerCase();
            const selectedField = elements.fieldSelect.value;
            const minYear = elements.minYearInput.value ? Number(elements.minYearInput.value) : null;
            const maxYear = elements.maxYearInput.value ? Number(elements.maxYearInput.value) : null;

            filteredItems = timelineData.items.filter(item => {
                // ë¶„ì•¼ í•„í„°
                if (selectedField && !item.fields?.some(f => f.toLowerCase() === selectedField.toLowerCase())) {
                    return false;
                }
                
                // ì—°ë„ ë²”ìœ„ í•„í„°
                if (typeof minYear === 'number' && typeof item.year === 'number' && item.year < minYear) {
                    return false;
                }
                if (typeof maxYear === 'number' && typeof item.year === 'number' && item.year > maxYear) {
                    return false;
                }
                
                // í…ìŠ¤íŠ¸ ê²€ìƒ‰
                if (!searchQuery) return true;
                
                const searchText = [
                    item.title,
                    item.summary,
                    ...(item.fields || []),
                    ...(item.organizations || []),
                    item.location
                ]
                    .filter(Boolean)
                    .join(' ')
                    .toLowerCase();
                    
                return searchText.includes(searchQuery);
            });

            renderTimeline();
        }

        // íƒ€ì„ë¼ì¸ ë Œë”ë§
        function renderTimeline() {
            elements.resultCount.textContent = `${filteredItems.length.toLocaleString()}ê°œ ê²°ê³¼`;
            
            if (filteredItems.length === 0) {
                elements.timeline.innerHTML = '<div class="text-center py-8" style="color: var(--text-secondary)">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }
            
            elements.timeline.innerHTML = filteredItems
                .map((item, idx) => {
                    const isLast = idx === filteredItems.length - 1;
                    const previousYear = idx > 0 ? filteredItems[idx - 1].year : null;
                    return renderTimelineItem(item, isLast, previousYear);
                })
                .join('');
        }

        // ì—°ë„ ë„¤ë¹„ê²Œì´ì…˜ ìƒì„±
        function generateYearNavigation(items) {
            const years = [...new Set(items.map(item => item.year))].sort((a, b) => a - b);
            const decades = {};
            
            years.forEach(year => {
                const decade = Math.floor(year / 10) * 10;
                if (!decades[decade]) decades[decade] = [];
                decades[decade].push(year);
            });
            
            return Object.keys(decades).map(decade => {
                const decadeYears = decades[decade];
                return `
                    <div class="decade-nav">
                        <button class="decade-btn" onclick="scrollToYear(${decade})">
                            ${decade}ë…„ëŒ€
                        </button>
                        <div class="year-list">
                            ${decadeYears.map(year => `
                                <button class="year-btn" onclick="scrollToYear(${year})">
                                    ${year}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // íŠ¹ì • ì—°ë„ë¡œ ìŠ¤í¬ë¡¤
        function scrollToYear(year) {
            const element = document.querySelector(`[data-year="${year}"]`);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                element.classList.add('highlight');
                setTimeout(() => element.classList.remove('highlight'), 2000);
            }
        }

        // ë°ì´í„° ë¡œë“œ
        async function loadData() {
            try {
                const response = await fetch('./timeline-data.json');
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                timelineData = await response.json();
                
                // UI ì—…ë°ì´íŠ¸
                elements.stats.textContent = `ì´ ${timelineData.metadata.totalItems.toLocaleString()}ê°œ ê¸°ìˆ  â€¢ ${timelineData.metadata.dateRange.earliest.toLocaleString()} ~ ${timelineData.metadata.dateRange.latest} ë…„`;
                
                // ë¶„ì•¼ ì˜µì…˜ ì¶”ê°€
                timelineData.metadata.fields.forEach(field => {
                    const option = document.createElement('option');
                    option.value = field;
                    option.textContent = translateField(field);
                    elements.fieldSelect.appendChild(option);
                });
                
                // ìƒì„±ì¼ í‘œì‹œ
                elements.generatedDate.textContent = `ìƒì„±ì¼: ${new Date(timelineData.metadata.generatedAt).toLocaleDateString('ko-KR')}`;
                
                // ì—°ë„ ë„¤ë¹„ê²Œì´ì…˜ ì´ˆê¸°í™”
                elements.yearNav.innerHTML = generateYearNavigation(timelineData.items);
                
                // ì´ˆê¸° í•„í„°ë§
                filterItems();
                
                // ì• ë‹ˆë©”ì´ì…˜ ê´€ì°°ì ì´ˆê¸°í™”
                initializeAnimationObserver();
                
                // ë¡œë”© ì™„ë£Œ
                elements.loading.classList.add('hidden');
                elements.content.classList.remove('hidden');
                
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                elements.errorMessage.textContent = error.message;
                elements.loading.classList.add('hidden');
                elements.error.classList.remove('hidden');
            }
        }

        // Debounce í•¨ìˆ˜ (ê²€ìƒ‰ UX ê°œì„ )
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        function setupEventListeners() {
            // ê²€ìƒ‰ ì…ë ¥ì—ë§Œ debounce ì ìš© (300ms ì§€ì—°)
            elements.searchInput.addEventListener('input', debounce(filterItems, 300));
            // ì—°ë„ ì…ë ¥ê³¼ í•„ë“œ ì„ íƒì€ ì¦‰ì‹œ ì ìš©
            elements.minYearInput.addEventListener('input', filterItems);
            elements.maxYearInput.addEventListener('input', filterItems);
            elements.fieldSelect.addEventListener('change', filterItems);
        }
        
        // ì• ë‹ˆë©”ì´ì…˜ ê´€ì°°ì ì´ˆê¸°í™”
        function initializeAnimationObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            
            // ê¸°ì¡´ ìš”ì†Œë“¤ ê´€ì°°
            document.querySelectorAll('.fade-in-up').forEach(el => {
                observer.observe(el);
            });
            
            // ìƒˆë¡œ ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ì„ ìœ„í•œ MutationObserver
            const mutationObserver = new MutationObserver((mutations) => {
                mutations.forEach(mutation => {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1) {
                            const fadeElements = node.querySelectorAll ? node.querySelectorAll('.fade-in-up') : [];
                            fadeElements.forEach(el => observer.observe(el));
                            if (node.classList && node.classList.contains('fade-in-up')) {
                                observer.observe(node);
                            }
                        }
                    });
                });
            });
            
            mutationObserver.observe(elements.timeline, {
                childList: true,
                subtree: true
            });
        }

        // ì´ˆê¸°í™”
        function init() {
            initTheme();
            setupEventListeners();
            loadData();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>